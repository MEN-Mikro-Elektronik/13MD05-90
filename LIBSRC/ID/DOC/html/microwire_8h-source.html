<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>MEN - ID Library - microwire.h Source File</title>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<meta name="Language" content="en, english">
<meta name="Copyright" content="All material copyright MEN Mikro Elektronik GmbH">
<link href="men_stylesheet.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class="left_to_right" style="padding-top: 6px; background-color: #F0F0F0; height: 110px; border-bottom: 2px solid #D1D1D2;">
	<!-- Titel -->
	<img src="menlogo.gif" alt="MEN" style="float: left; height: 103px; width: 155px; margin: 0px;"></a>
	<h1 style="margin: 0px; padding-top: 35px; padding-bottom: 0px;">ID Library &nbsp; </h1>
	<h3>microwire.h Source File</h3>
</div>

<div class="left_to_right">
<!-- Hauptteil -->
	<div class="main">
<!-- Generated by Doxygen 1.3.2 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="globals.html">Globals</a></div>
<h1>microwire.h</h1><div class="fragment"><pre>00001 <span class="comment">/***********************  I n c l u d e  -  F i l e  ************************</span>
00002 <span class="comment"> *  </span>
00003 <span class="comment"> *         Name: microwire.h</span>
00004 <span class="comment"> *</span>
00005 <span class="comment"> *       Author: uf</span>
00006 <span class="comment"> *        $Date: 2000/03/08 14:01:54 $</span>
00007 <span class="comment"> *    $Revision: 2.3 $</span>
00008 <span class="comment"> * </span>
00009 <span class="comment"> *  Description: microwire bus protocol interface</span>
00010 <span class="comment"> *     Switches: MCRW_COMPILE - for module compilation</span>
00011 <span class="comment"> *               ID_SW        - for swapped access</span>
00012 <span class="comment"> *-------------------------------[ History ]---------------------------------</span>
00013 <span class="comment"> *</span>
00014 <span class="comment"> * $Log: microwire.h,v $</span>
00015 <span class="comment"> * Revision 2.3  2000/03/08 14:01:54  kp</span>
00016 <span class="comment"> * support swapped access</span>
00017 <span class="comment"> *</span>
00018 <span class="comment"> * Revision 2.2  1999/07/30 14:32:48  Franke</span>
00019 <span class="comment"> * cosmetics</span>
00020 <span class="comment"> *</span>
00021 <span class="comment"> * Revision 2.1  1999/07/08 11:15:33  Franke</span>
00022 <span class="comment"> * Initial Revision</span>
00023 <span class="comment"> *</span>
00024 <span class="comment"> *---------------------------------------------------------------------------</span>
00025 <span class="comment"> * (c) Copyright 1999 by MEN mikro elektronik GmbH, Nuernberg, Germany </span>
00026 <span class="comment"> ****************************************************************************/</span>
00027 <span class="preprocessor">#ifndef _MCRW_H</span>
00028 <span class="preprocessor"></span><span class="preprocessor">#  define _MCRW_H</span>
00029 <span class="preprocessor"></span>
00030 <span class="preprocessor">#  ifdef __cplusplus</span>
00031 <span class="preprocessor"></span>      <span class="keyword">extern</span> <span class="stringliteral">"C"</span> {
00032 <span class="preprocessor">#  endif</span>
00033 <span class="preprocessor"></span>
00034 <span class="comment">/*----------------+</span>
00035 <span class="comment">| Variant defines |</span>
00036 <span class="comment">+----------------*/</span>
00037 <span class="preprocessor">#ifdef ID_SW</span>
00038 <span class="preprocessor"></span><span class="preprocessor"># define MCRW_PORT_Init MCRW_SW_PORT_Init   </span>
00039 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00040 <span class="preprocessor"></span>
00041 <span class="comment">/*-----------------------------------------+</span>
00042 <span class="comment">|  TYPEDEFS                                |</span>
00043 <span class="comment">+------------------------------------------*/</span>
00044 <span class="comment">/* descriptor for the PORT emulated MCRW controller */</span>
00045 <span class="keyword">typedef</span> <span class="keyword">struct</span>
00046 <span class="keyword"></span>{
00047     u_int8     busClock;    <span class="comment">/* 0  -   max - no internal delay</span>
00048 <span class="comment">                             * 1  -  1kHz - OSS_Delay() call</span>
00049 <span class="comment">                             * 10 - 10kHz - OSS_MikroDelay() call</span>
00050 <span class="comment">                             */</span>
00051     u_int8     addrLength;  <span class="comment">/* depend on device type , e.g.NM93C46 has 6 bit addresses */</span>
00052 
00053     <span class="keywordtype">void</span>       *addrDataIn;
00054     u_int8     flagsDataIn;   <span class="comment">/* access size, polarity */</span>
00055     u_int32    maskDataIn;
00056 
00057     <span class="keywordtype">void</span>       *addrDataOut;
00058     u_int8     flagsDataOut;  <span class="comment">/* access size, polarity, readable register */</span>
00059     u_int32    maskDataOut;
00060     u_int32    notReadBackDefaultsDataOut;
00061     u_int32    notReadBackMaskDataOut;
00062 
00063     <span class="keywordtype">void</span>       *addrClockOut;
00064     u_int8     flagsClockOut; <span class="comment">/* access size, polarity, readable register */</span>
00065     u_int32    maskClockOut;
00066     u_int32    notReadBackDefaultsClockOut;
00067     u_int32    notReadBackMaskClockOut;
00068 
00069     <span class="keywordtype">void</span>       *addrCsOut;
00070     u_int8     flagsCsOut;    <span class="comment">/* access size, polarity, readable register */</span>
00071     u_int32    maskCsOut;
00072     u_int32    notReadBackDefaultsCsOut;
00073     u_int32    notReadBackMaskCsOut;
00074 
00075     u_int8     flagsOut;      <span class="comment">/* all in one */</span>
00076 }MCRW_DESC_PORT;
00077 
00078 
00079 <span class="keyword">typedef</span> <span class="keyword">struct</span>
00080 <span class="keyword"></span>{
00081     <span class="keywordtype">char</span>* (*Ident)       ( <span class="keywordtype">void</span> );
00082     int32 (*Exit)        ( <span class="keywordtype">void</span> **mcrwHdlP );
00083     int32 (*WriteEeprom) ( <span class="keywordtype">void</span> *mcrwHdl, u_int8 addr, u_int16 *buf, u_int16 size ); <span class="comment">/* write a block, size in byte */</span>
00084     int32 (*ReadEeprom)  ( <span class="keywordtype">void</span> *mcrwHdl, u_int8 addr, u_int16 *buf, u_int16 size ); <span class="comment">/* read a block, size in byte */</span>
00085     int32 (*SetStat)     ( <span class="keywordtype">void</span> *mcrwHdl, int32 code,  int32 data   );
00086     int32 (*GetStat)     ( <span class="keywordtype">void</span> *mcrwHdl, int32 code,  int32 *dataP );
00087 }MCRW_ENTRIES;
00088 
00089 <span class="preprocessor">#ifndef MCRW_COMPILE</span>
00090 <span class="preprocessor"></span>    <span class="keyword">typedef</span> MCRW_ENTRIES MCRW_HANDLE;
00091 <span class="preprocessor">#endif </span><span class="comment">/*MCRW_COMPILE*/</span>
00092 
00093 <span class="comment">/*-----------------------------------------+</span>
00094 <span class="comment">|  DEFINES &amp; CONST                         |</span>
00095 <span class="comment">+------------------------------------------*/</span>
00096 <span class="preprocessor">#define MCRW_ERR_NO                 0   </span><span class="comment">/* OK */</span>
00097 <span class="preprocessor">#define MCRW_ERR_DESCRIPTOR         1   </span><span class="comment">/* descriptor is wrong */</span>
00098 <span class="preprocessor">#define MCRW_ERR_NO_MEM             2   </span><span class="comment">/* no memory */</span>
00099 <span class="preprocessor">#define MCRW_ERR_UNK_CODE           3   </span><span class="comment">/* unknown status code */</span>
00100 <span class="preprocessor">#define MCRW_ERR_ERASE              4   </span><span class="comment">/* erase */</span>
00101 <span class="preprocessor">#define MCRW_ERR_WRITE              5   </span><span class="comment">/* write */</span>
00102 <span class="preprocessor">#define MCRW_ERR_WRITE_VERIFY       6   </span><span class="comment">/* verify failed */</span>
00103 <span class="preprocessor">#define MCRW_ERR_ADDR               7   </span><span class="comment">/* address in EEPROM */</span>
00104 <span class="preprocessor">#define MCRW_ERR_BUF                8   </span><span class="comment">/* buffer not aligned */</span>
00105 <span class="preprocessor">#define MCRW_ERR_BUF_SIZE           9   </span><span class="comment">/* buffer size */</span>
00106 
00107 <span class="preprocessor">#define MCRW_DESC_PORT_FLAG_SIZE_MASK       0x07</span>
00108 <span class="preprocessor"></span><span class="preprocessor">#define MCRW_DESC_PORT_FLAG_SIZE_8          0x01</span>
00109 <span class="preprocessor"></span><span class="preprocessor">#define MCRW_DESC_PORT_FLAG_SIZE_16         0x02</span>
00110 <span class="preprocessor"></span><span class="preprocessor">#define MCRW_DESC_PORT_FLAG_SIZE_32         0x04</span>
00111 <span class="preprocessor"></span>
00112 <span class="preprocessor">#define MCRW_DESC_PORT_FLAG_POLARITY_HIGH   0x10</span>
00113 <span class="preprocessor"></span><span class="preprocessor">#define MCRW_DESC_PORT_FLAG_READABLE_REG    0x20</span>
00114 <span class="preprocessor"></span>
00115 <span class="preprocessor">#define MCRW_DESC_PORT_FLAG_OUT_IN_ONE_REG  0x01  </span><span class="comment">/* all out bits are in one register */</span>
00116 
00117 <span class="preprocessor">#define MCRW_IOCTL_BUS_CLOCK                0x01  </span><span class="comment">/* set/getstat to change the bus clock */</span>
00118 <span class="preprocessor">#define MCRW_IOCTL_ADDR_LENGTH              0x02  </span><span class="comment">/* set/getstat to change the address length */</span>
00119 
00120 
00121 <span class="comment">/*-----------------------------------------+</span>
00122 <span class="comment">|  GLOBALS                                 |</span>
00123 <span class="comment">+------------------------------------------*/</span>
00124 <span class="comment">/*-----------------------------------------+</span>
00125 <span class="comment">|  PROTOTYPES                              |</span>
00126 <span class="comment">+------------------------------------------*/</span>
00127 u_int32 <a class="code" href="microwire__port_8c.html#a28">MCRW_PORT_Init</a>( MCRW_DESC_PORT *descP, <span class="keywordtype">void</span> *osHdl, <span class="keywordtype">void</span> **mcrwHdlP );
00128 
00129 <span class="preprocessor">#  ifdef __cplusplus</span>
00130 <span class="preprocessor"></span>      }
00131 <span class="preprocessor">#  endif</span>
00132 <span class="preprocessor"></span>
00133 <span class="preprocessor">#endif</span><span class="comment">/*_MCRW_H*/</span>
00134 
</pre></div>
	</div>
</div>

<div class="footer">
<!-- Footer -->
	<p class="footer">
	Generated for ID Library using <a href="http://www.doxygen.org">doxygen</a>.<br>
	Copyright &copy; 2012 <a href="http://www.men.de">MEN Mikro Elektronik GmbH</a>. All Rights Reserved.
	</p>
</div>

</body>
</html>

