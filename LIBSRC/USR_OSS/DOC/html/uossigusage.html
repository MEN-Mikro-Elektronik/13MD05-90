<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>MEN - USR_OSS library for Linux - Using USR_OSS Signals</title>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<meta name="Language" content="en, english">
<meta name="Copyright" content="All material copyright MEN Mikro Elektronik GmbH">
<link href="men_stylesheet.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class="left_to_right" style="padding-top: 6px; background-color: #F0F0F0; height: 110px; border-bottom: 2px solid #D1D1D2;">
	<!-- Titel -->
	<img src="menlogo.gif" alt="MEN" style="float: left; height: 103px; width: 155px; margin: 0px;"></a>
	<h1 style="margin: 0px; padding-top: 35px; padding-bottom: 0px;">USR_OSS library for Linux &nbsp; for USR_OSS Linux fileset 2.15</h1>
	<h3>Using USR_OSS Signals</h3>
</div>

<div class="left_to_right">
<!-- Hauptteil -->
	<div class="main">
<!-- Generated by Doxygen 1.3.2 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="globals.html">Globals</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1><a name="uossigusage">Using USR_OSS Signals</a>
</h1>The UOS_SigXXX() routines provide an abstraction of the signal handling of the underlying operating system.<p>
Please refer to the MDIS developer guide for more information on signals.<p>
Since not all OSes are aware of the signal concept, these functions can be used to emulate signals on those OSes; for example by starting a seperate thread that executes the signal handler.<p>
Before signals can be used, <a class="el" href="usr__oss__specification_8c.html#a9">UOS_SigInit()</a> has to be called once by the application. <a class="el" href="usr__oss__specification_8c.html#a9">UOS_SigInit()</a> can be passed a user signal handler that is called for every received signal. Alternatively, one can pass <code>NULL</code> instead of a user signal handler. In this case, only <a class="el" href="signal_8c.html#a12">UOS_SigWait()</a> can be used to handle signals.<p>
Furthermore, the application has to call <a class="el" href="signal_8c.html#a8">UOS_SigInstall()</a> for every signal <em>number</em> it wishes to handle.<p>
After this initialisation has been done, the application is ready to receive signals. It will then instruct the (MDIS) device drivers to send signals on specific events by using driver specific SetStat codes.<p>
If a signal is received, the user's signal handler is called (provided a user signal handler has been passed to <a class="el" href="usr__oss__specification_8c.html#a9">UOS_SigInit()</a> ) with the signal number as its first argument:<p>
<div class="fragment"><pre>  <span class="keywordtype">void</span> __MAPILIB SigHandler( u_int32 sigCode )
  {
      <span class="keywordflow">switch</span>( sigCode ){
      <span class="keywordflow">case</span> UOS_SIG_USR1:
           <span class="comment">// handle this signal</span>
           <span class="keywordflow">break</span>;
      }
  }
</pre></div><p>
If no signal handler was passed to <a class="el" href="usr__oss__specification_8c.html#a9">UOS_SigInit()</a>, the application can only wait for signals synchronously by calling <a class="el" href="signal_8c.html#a12">UOS_SigWait()</a>.<p>
To protect global data used by the main thread and the signal handler from being accessed concurrently, you can use <a class="el" href="signal_8c.html#a10">UOS_SigMask()</a> and <a class="el" href="signal_8c.html#a11">UOS_SigUnMask()</a> from the main thread.<p>
For full portability across operating systems, an application shall only use signal number <code>UOS_SIG_USR1</code> and <code>UOS_SIG_USR2</code>. However, if portability is not an issue, most OSes allow much more different signals to be used. 
	</div>
</div>

<div class="footer">
<!-- Footer -->
	<p class="footer">
	Generated for USR_OSS library for Linux using <a href="http://www.doxygen.org">doxygen</a>.<br>
	Copyright &copy; 2012 <a href="http://www.men.de">MEN Mikro Elektronik GmbH</a>. All Rights Reserved.
	</p>
</div>

</body>
</html>

