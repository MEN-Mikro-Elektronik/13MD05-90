# MDIS for Linux project makefile
# Generated by mdiswiz 1.7.015-linux-6
# 2007-07-12

ifndef MEN_LIN_DIR

MEN_LIN_DIR = /opt/menlinux

endif

# You need to select the development environment so that MDIS
# modules are compiled with the correct tool chain

WIZ_CDK = ELinOS

# All binaries (modules, programs and libraries) will be
# installed under this directory.

# TARGET_TREE

# The directory of the kernel tree used for your target's
# kernel. If you're doing selfhosted development, it's
# typically /usr/src/linux. This directory is used when
# building the kernel modules.

LIN_KERNEL_DIR = $(ELINOS_PROJECT)/linux

# Defines wether to build MDIS to support RTAI. If enabled,
# MDIS modules support RTAI in addition to the standard Linux
# mode. Set it to "yes" if you want to access MDIS devices from
# RTAI applications

MDIS_SUPPORT_RTAI = no

# The directory where you have installed the RTAI distribution
# via "make install"

# RTAI_DIR

# The include directory used when building user mode libraries
# and applications. If you're doing selfhosted development,
# it's typically /usr/include. If you're doing cross
# development, select the include directory of your cross
# compiler. Leave it blank if your compiler doesn't need this
# setting.

LIN_USR_INC_DIR = $(LIN_KERNEL_DIR)/include

# Define wether to build/use static or shared user state
# libraries. In "static" mode, libraries are statically linked
# to programs. In "shared" mode, programs dynamically link to
# the libraries. "shared" mode makes programs smaller but
# requires installation of shared libraries on the target

LIB_MODE = static

# Defines wether to build and install the release (nodbg) or
# debug (dbg) versions of the kernel modules. The debug version
# of the modules issue many debug messages using printk's for
# trouble shooting

ALL_DBGS = dbg

# The directory in which the kernel modules are to be
# installed. Usually this is the target's
# /lib/modules/$(LINUX_VERSION)/misc directory.

MODS_INSTALL_DIR = $(ELINOS_PROJECT)/kernel.rootfs/lib/modules/$(LINUX_VERSION)/misc

# The directory in which the user state programs are to be
# installed. Often something like /usr/local/bin. (relative to
# the target's root tree)

BIN_INSTALL_DIR = $(ELINOS_PROJECT)/app.rootfs/usr/sbin

# The directory in which the shared (.so) user mode libraries
# are to be installed. Often something like /usr/local/lib.
# (relative to the target's root tree)

LIB_INSTALL_DIR = $(ELINOS_PROJECT)/app.rootfs/usr/lib

# The directory in which the static user mode libraries are to
# be installed. Often something like /usr/local/lib on
# development host. For cross compilation select a path
# relative to your cross compilers lib directory.

STATIC_LIB_INSTALL_DIR = $(ELINOS_PROJECT)/app.rootfs/usr/local/lib

DESC_INSTALL_DIR = $(ELINOS_PROJECT)/app.rootfs/etc/mdis/DESC

# DEVNODE_INSTALL_DIR

# Device major number for MDIS driver. You must select an
# unused number. Lookup the numbers in use by doing "cat
# /proc/devices" on your target system. Value is ignored if
# device filesystem is included in kernel

MDIS_MAJOR_NUMBER = 252

MDIS_EXTRA_DEFS = -DCONFIG_MEN_VME_KERNELIF

ALL_LL_DRIVERS = 

ALL_BB_DRIVERS = 

ALL_USR_LIBS = \
        USR_OSS/library.mak \
        USR_UTL/COM/library.mak \
        VME4L_API/library.mak\
        DBG/library_usr.mak \
        OSS/library_usr.mak \
        CHAMELEON/COM/library_usr.mak \
        CHAMELEON/COM/library_usr_sw.mak \
        CHAMELEON/COM/library_usr_io.mak \
        CHAMELEON/COM/library_usr_io_sw.mak \

ALL_LL_TOOLS = \

ALL_COM_TOOLS = \
	FPGA_ADDHEADER/COM/program_big.mak \
	FPGA_LOAD/COM/program.mak


ALL_NATIVE_DRIVERS = \
	DRIVERS/VME4LX/DRIVER_K24/driver.mak \

ALL_NATIVE_LIBS =

ALL_NATIVE_TOOLS = 

ALL_DESC =

include $(MEN_LIN_DIR)/BUILD/MDIS/TPL/rules.mak

