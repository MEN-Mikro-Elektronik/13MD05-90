<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>MEN - Linux native Driver for 16Z077/87 Ethernet IP cores - men_16z077_eth.h Source File</title>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<meta name="Language" content="en, english">
<meta name="Copyright" content="All material copyright MEN Mikro Elektronik GmbH">
<link href="men_stylesheet.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class="left_to_right" style="padding-top: 6px; background-color: #F0F0F0; height: 110px; border-bottom: 2px solid #D1D1D2;">
	<!-- Titel -->
	<img src="menlogo.gif" alt="MEN" style="float: left; height: 103px; width: 155px; margin: 0px;"></a>
	<h1 style="margin: 0px; padding-top: 35px; padding-bottom: 0px;">Linux native Driver for 16Z077/87 Ethernet IP cores &nbsp; </h1>
	<h3>men_16z077_eth.h Source File</h3>
</div>

<div class="left_to_right">
<!-- Hauptteil -->
	<div class="main">
<!-- Generated by Doxygen 1.3.2 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="annotated.html">Data&nbsp;Structures</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Data&nbsp;Fields</a> | <a class="qindex" href="globals.html">Globals</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>men_16z077_eth.h</h1><a href="men__16z077__eth_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <span class="comment">/*********************  P r o g r a m  -  M o d u l e ***********************/</span>
00014 <span class="comment">/*-------------------------------[ History ]---------------------------------</span>
00015 <span class="comment"> *</span>
00016 <span class="comment"> * $Log: men__16z077__eth_8h-source.html,v $
00016 <span class="comment"> * Revision 1.28  2014/07/17 18:30:46  ts
00016 <span class="comment"> * (AUTOCI) Checkin due to new revision 1.16 of fileset ART/13Z077-90/13Z077-90
00016 <span class="comment"> *</span>
00017 <span class="comment"> * Revision 1.16  2013/07/10 18:34:24  ts</span>
00018 <span class="comment"> * R: PACKLEN setting made problem in customer application because register</span>
00019 <span class="comment"> *    value is interpreted without FCS</span>
00020 <span class="comment"> * M: decreased min/max value by 4 (FCS added by IP core)</span>
00021 <span class="comment"> *</span>
00022 <span class="comment"> * Revision 1.15  2012/11/06 20:18:27  ts</span>
00023 <span class="comment"> * R: MAC addrs for x86 boards were not generated according to ident EEprom</span>
00024 <span class="comment"> * M: added defines to check on x86 CPUs (F11S, P51x PMCs) for ident EEPROMs</span>
00025 <span class="comment"> *</span>
00026 <span class="comment"> * Revision 1.14  2012/10/01 11:46:46  ts</span>
00027 <span class="comment"> * R: Board specific MAC addr offsets for certain CPUs were not considered yet</span>
00028 <span class="comment"> * M: added defines for MAC offsets on F11S and F218</span>
00029 <span class="comment"> *</span>
00030 <span class="comment"> * Revision 1.13  2012/09/20 18:34:43  ts</span>
00031 <span class="comment"> * R: mdiobus functions cause problems with MEN pseudo Phy inside F218 FPGA</span>
00032 <span class="comment"> * M: made registration on mdio bus dependent on switch CONFIG_MENEP05</span>
00033 <span class="comment"> *</span>
00034 <span class="comment"> * Revision 1.12  2012/09/07 18:04:26  ts</span>
00035 <span class="comment"> * R: support for IEEE 802.1Q VLAN tagging requested by customer</span>
00036 <span class="comment"> * M: 1. added defines for VLAN processing depending on kernel version</span>
00037 <span class="comment"> *    2. updated driver documentation</span>
00038 <span class="comment"> *</span>
00039 <span class="comment"> * Revision 1.11  2012/03/28 18:06:53  ts</span>
00040 <span class="comment"> * R: support for phy driver platform was requested</span>
00041 <span class="comment"> * M: added functionality for phy_connect and other phy platform functions</span>
00042 <span class="comment"> *</span>
00043 <span class="comment"> * Revision 1.10  2011/02/23 14:52:54  rt</span>
00044 <span class="comment"> * R: 1) Some bit descriptions missing.</span>
00045 <span class="comment"> *    2) Cosmetics.</span>
00046 <span class="comment"> *    3) Z077_WEIGHT wrong.</span>
00047 <span class="comment"> * M: 1) Added REG_COREREV_* defines.</span>
00048 <span class="comment"> *    2) Removed duplicated defines.</span>
00049 <span class="comment"> *    3) Changed to 0x40.</span>
00050 <span class="comment"> *</span>
00051 <span class="comment"> * Revision 1.9  2010/12/17 14:29:43  ts</span>
00052 <span class="comment"> * R: IP core was enhanced with 4 error storing Registers</span>
00053 <span class="comment"> * M: added defines for CORE_CNT0-3 and Rev. Register</span>
00054 <span class="comment"> *</span>
00055 <span class="comment"> * Revision 1.8  2010/06/04 12:40:18  ts</span>
00056 <span class="comment"> * R: MM1 needs MAC address read out from EEPROM</span>
00057 <span class="comment"> * M: added defines for SMB bit bang routines</span>
00058 <span class="comment"> *</span>
00059 <span class="comment"> * Revision 1.6  2009/09/17 15:08:31  ts</span>
00060 <span class="comment"> * R: Cosmetics, removed many unnecessary defines left over from early development</span>
00061 <span class="comment"> *</span>
00062 <span class="comment"> * Revision 1.5  2009/06/09 14:42:32  ts</span>
00063 <span class="comment"> * R: new register 0x70 for Rx counter introduced in Z87</span>
00064 <span class="comment"> * M: added register RXBDSTAT</span>
00065 <span class="comment"> *</span>
00066 <span class="comment"> * Revision 1.4  2008/07/14 11:14:05  aw</span>
00067 <span class="comment"> * R: Z087 bdBase was not aligned</span>
00068 <span class="comment"> * M: use define Z077_BDALIGN</span>
00069 <span class="comment"> *</span>
00070 <span class="comment"> * Revision 1.3  2008/03/12 10:18:21  aw</span>
00071 <span class="comment"> * supports NIOS_II in combination with Z087</span>
00072 <span class="comment"> *</span>
00073 <span class="comment"> * Revision 1.2  2008/02/14 13:30:04  ts</span>
00074 <span class="comment"> * added description of bit OETH_MODER_BRO to reject broadcasts if bit=0</span>
00075 <span class="comment"> *</span>
00076 <span class="comment"> * Revision 1.1  2007/11/16 15:55:18  ts</span>
00077 <span class="comment"> * Initial Revision</span>
00078 <span class="comment"> *</span>
00079 <span class="comment"> *</span>
00080 <span class="comment"> *---------------------------------------------------------------------------</span>
00081 <span class="comment"> * (c) Copyright 2012 by MEN mikro elektronik GmbH, Nuremberg, Germany</span>
00082 <span class="comment"> *</span>
00083 <span class="comment"> * This program is free software; you can redistribute  it and/or modify it</span>
00084 <span class="comment"> * under  the terms of  the GNU General  Public License as published by the</span>
00085 <span class="comment"> * Free Software Foundation;  either version 2 of the  License, or (at your</span>
00086 <span class="comment"> * option) any later version.</span>
00087 <span class="comment"> ****************************************************************************/</span>
00088 
00089 <span class="preprocessor">#ifndef _MEN_Z77_ETH_</span>
00090 <span class="preprocessor"></span><span class="preprocessor">#define _MEN_Z77_ETH_</span>
00091 <span class="preprocessor"></span>
00092 <span class="preprocessor">#include &lt;linux/netdevice.h&gt;</span>
00093 <span class="preprocessor">#include &lt;linux/etherdevice.h&gt;</span>
00094 <span class="preprocessor">#include &lt;linux/ethtool.h&gt;</span>
00095 <span class="preprocessor">#include &lt;linux/skbuff.h&gt;</span>
00096 
00097 <span class="comment">/* for EP05 support of mdio_bus facility was requested */</span>
00098 <span class="preprocessor">#if defined(CONFIG_MENEP05)</span>
00099 <span class="preprocessor"></span><span class="comment">/* the phy platform driver facilities were introduced in 2.6.28 */</span>
00100 <span class="preprocessor"># if (LINUX_VERSION_CODE &lt; KERNEL_VERSION(2,6,28))</span>
00101 <span class="preprocessor"></span><span class="preprocessor">#  define MEN_Z77_USE_OWN_PHYACCESS</span>
00102 <span class="preprocessor"></span><span class="preprocessor"># else</span>
00103 <span class="preprocessor"></span><span class="preprocessor">#  include &lt;linux/phy.h&gt;</span>
00104 <span class="preprocessor">#  include &lt;linux/mii.h&gt;</span>
00105 <span class="preprocessor"># endif</span>
00106 <span class="preprocessor"></span><span class="preprocessor">#else</span>
00107 <span class="preprocessor"></span><span class="preprocessor">#  define MEN_Z77_USE_OWN_PHYACCESS</span>
00108 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00109 <span class="preprocessor"></span>
00110 <span class="preprocessor">#if defined(CONFIG_VLAN_8021Q) || defined(CONFIG_VLAN_8021Q_MODULE)</span>
00111 <span class="preprocessor"></span><span class="preprocessor">#define Z77_USE_VLAN_TAGGING</span>
00112 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00113 <span class="preprocessor"></span>
00114 <span class="comment">/* from kernel 2.6.29 on the VLAN ID register functions were moved to struct net_device_ops */</span>
00115 <span class="preprocessor">#if (LINUX_VERSION_CODE &gt; KERNEL_VERSION(2,6,28))</span>
00116 <span class="preprocessor"></span><span class="preprocessor">#define Z77_VLAN_OPS_CHANGE</span>
00117 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00118 <span class="preprocessor"></span>
00119 <span class="preprocessor">#define MEN_Z77_DRV_NAME  "MEN ETH driver:"</span>
00120 <span class="preprocessor"></span>
<a name="l00128"></a><a class="code" href="group____Z077MACS.html#a0">00128</a> <span class="preprocessor">#define Z77_MAC_OFFS_F11S       0x9ec000    </span>
<a name="l00129"></a><a class="code" href="group____Z077MACS.html#a1">00129</a> <span class="preprocessor">#define Z77_MAC_OFFS_F218       0x027000    </span>
<a name="l00130"></a><a class="code" href="group____Z077MACS.html#a2">00130</a> <span class="preprocessor">#define Z77_MAC_OFFS_P511       0x9cc000    </span>
<a name="l00131"></a><a class="code" href="group____Z077MACS.html#a3">00131</a> <span class="preprocessor">#define Z77_MAC_P511_IF2OFF     0x1000      </span>
<a name="l00132"></a><a class="code" href="group____Z077MACS.html#a4">00132</a> <span class="preprocessor">#define Z77_MAC_OFFS_P513       0xae2000    </span>
<a name="l00133"></a><a class="code" href="group____Z077MACS.html#a5">00133</a> <span class="preprocessor">#define Z77_MAC_P513_IF2OFF     0x1000      </span>
00134 <span class="preprocessor">#define MEN_F11S_SERNUM_MAX     16383</span>
00135 <span class="preprocessor"></span><span class="preprocessor">#define MEN_F11S_SERNUM_BASE    0xc000</span>
00136 <span class="preprocessor"></span><span class="preprocessor">#define MEN_F11S                11</span>
00137 <span class="preprocessor"></span><span class="preprocessor">#define MEN_F218                218</span>
00138 <span class="preprocessor"></span><span class="preprocessor">#define MEN_P511                511</span>
00139 <span class="preprocessor"></span><span class="preprocessor">#define MEN_P513                513</span>
00140 <span class="preprocessor"></span>
<a name="l00150"></a><a class="code" href="group____Z077BASES.html#a0">00150</a> <span class="preprocessor">#define Z077_BASE ((void*)dev-&gt;base_addr) </span>
<a name="l00151"></a><a class="code" href="group____Z077BASES.html#a1">00151</a> <span class="preprocessor">#define Z077_BDBASE         (np-&gt;bdBase)  </span>
<a name="l00152"></a><a class="code" href="group____Z077BASES.html#a2">00152</a> <span class="preprocessor">#define Z077_BD_OFFS        (np-&gt;bdOff )  </span>
<a name="l00153"></a><a class="code" href="group____Z077BASES.html#a3">00153</a> <span class="preprocessor">#define TBD_OFF             (np-&gt;tbdOff ) </span>
<a name="l00154"></a><a class="code" href="group____Z077BASES.html#a4">00154</a> <span class="preprocessor">#define RBD_OFF             (np-&gt;rbdOff ) </span>
<a name="l00155"></a><a class="code" href="group____Z077BASES.html#a5">00155</a> <span class="preprocessor">#define Z77_ETHBUF_SIZE     0x1000        </span>
<a name="l00156"></a><a class="code" href="group____Z077BASES.html#a6">00156</a> <span class="preprocessor">#define Z77_CFGREG_SIZE     0x800         </span>
<a name="l00157"></a><a class="code" href="group____Z077BASES.html#a7">00157</a> <span class="preprocessor">#define MY_TX_TIMEOUT       (5*HZ)        </span>
<a name="l00158"></a><a class="code" href="group____Z077BASES.html#a8">00158</a> <span class="preprocessor">#define Z077_REG_BASE       (0)           </span>
<a name="l00159"></a><a class="code" href="group____Z077BASES.html#a9">00159</a> <span class="preprocessor">#define Z77_PACKLEN_DEFAULT 0x003c05fc    </span>
00161 <span class="preprocessor"></span>
00162 <span class="preprocessor"></span>
<a name="l00166"></a><a class="code" href="group____Z077__REGISTERS.html#a0">00166</a> <span class="preprocessor">#define Z077_REG_MODER      (Z077_REG_BASE+0x00) </span>
<a name="l00167"></a><a class="code" href="group____Z077__REGISTERS.html#a1">00167</a> <span class="preprocessor">#define Z077_REG_INT_SRC    (Z077_REG_BASE+0x04) </span>
<a name="l00168"></a><a class="code" href="group____Z077__REGISTERS.html#a2">00168</a> <span class="preprocessor">#define Z077_REG_INT_MASK   (Z077_REG_BASE+0x08) </span>
<a name="l00169"></a><a class="code" href="group____Z077__REGISTERS.html#a3">00169</a> <span class="preprocessor">#define Z077_REG_IPGT       (Z077_REG_BASE+0x0c) </span>
<a name="l00170"></a><a class="code" href="group____Z077__REGISTERS.html#a4">00170</a> <span class="preprocessor">#define Z077_REG_IPGR1      (Z077_REG_BASE+0x10) </span>
<a name="l00171"></a><a class="code" href="group____Z077__REGISTERS.html#a5">00171</a> <span class="preprocessor">#define Z077_REG_IPGR2      (Z077_REG_BASE+0x14) </span>
<a name="l00172"></a><a class="code" href="group____Z077__REGISTERS.html#a6">00172</a> <span class="preprocessor">#define Z077_REG_PACKLEN    (Z077_REG_BASE+0x18) </span>
<a name="l00173"></a><a class="code" href="group____Z077__REGISTERS.html#a7">00173</a> <span class="preprocessor">#define Z077_REG_COLLCONF   (Z077_REG_BASE+0x1c) </span>
<a name="l00174"></a><a class="code" href="group____Z077__REGISTERS.html#a8">00174</a> <span class="preprocessor">#define Z077_REG_TX_BDNUM   (Z077_REG_BASE+0x20) </span>
<a name="l00175"></a><a class="code" href="group____Z077__REGISTERS.html#a9">00175</a> <span class="preprocessor">#define Z077_REG_CTRLMODER  (Z077_REG_BASE+0x24) </span>
<a name="l00176"></a><a class="code" href="group____Z077__REGISTERS.html#a10">00176</a> <span class="preprocessor">#define Z077_REG_MIIMODER   (Z077_REG_BASE+0x28) </span>
<a name="l00177"></a><a class="code" href="group____Z077__REGISTERS.html#a11">00177</a> <span class="preprocessor">#define Z077_REG_MIICMD     (Z077_REG_BASE+0x2c) </span>
<a name="l00178"></a><a class="code" href="group____Z077__REGISTERS.html#a12">00178</a> <span class="preprocessor">#define Z077_REG_MIIADR     (Z077_REG_BASE+0x30) </span>
<a name="l00179"></a><a class="code" href="group____Z077__REGISTERS.html#a13">00179</a> <span class="preprocessor">#define Z077_REG_MIITX_DATA (Z077_REG_BASE+0x34) </span>
<a name="l00180"></a><a class="code" href="group____Z077__REGISTERS.html#a14">00180</a> <span class="preprocessor">#define Z077_REG_MIIRX_DATA (Z077_REG_BASE+0x38) </span>
<a name="l00181"></a><a class="code" href="group____Z077__REGISTERS.html#a15">00181</a> <span class="preprocessor">#define Z077_REG_MIISTATUS  (Z077_REG_BASE+0x3c) </span>
<a name="l00182"></a><a class="code" href="group____Z077__REGISTERS.html#a16">00182</a> <span class="preprocessor">#define Z077_REG_MAC_ADDR0  (Z077_REG_BASE+0x40) </span>
<a name="l00183"></a><a class="code" href="group____Z077__REGISTERS.html#a17">00183</a> <span class="preprocessor">#define Z077_REG_MAC_ADDR1  (Z077_REG_BASE+0x44) </span>
<a name="l00184"></a><a class="code" href="group____Z077__REGISTERS.html#a18">00184</a> <span class="preprocessor">#define Z077_REG_HASH_ADDR0 (Z077_REG_BASE+0x48) </span>
<a name="l00185"></a><a class="code" href="group____Z077__REGISTERS.html#a19">00185</a> <span class="preprocessor">#define Z077_REG_HASH_ADDR1 (Z077_REG_BASE+0x4c) </span>
<a name="l00186"></a><a class="code" href="group____Z077__REGISTERS.html#a20">00186</a> <span class="preprocessor">#define Z077_REG_TXCTRL     (Z077_REG_BASE+0x50) </span>
00188 <span class="preprocessor"></span>
00189 <span class="preprocessor"></span>
<a name="l00193"></a><a class="code" href="group____Z087__NEWREGS.html#a0">00193</a> <span class="preprocessor">#define Z077_REG_GLOBALRST  (Z077_REG_BASE+0x54) </span>
<a name="l00194"></a><a class="code" href="group____Z087__NEWREGS.html#a1">00194</a> <span class="preprocessor">#define Z077_REG_BDSTART    (Z077_REG_BASE+0x5c) </span>
<a name="l00195"></a><a class="code" href="group____Z087__NEWREGS.html#a2">00195</a> <span class="preprocessor">#define Z077_REG_RXEMPTY0   (Z077_REG_BASE+0x60) </span>
<a name="l00196"></a><a class="code" href="group____Z087__NEWREGS.html#a3">00196</a> <span class="preprocessor">#define Z077_REG_RXEMPTY1   (Z077_REG_BASE+0x64) </span>
<a name="l00197"></a><a class="code" href="group____Z087__NEWREGS.html#a4">00197</a> <span class="preprocessor">#define Z077_REG_TXEMPTY0   (Z077_REG_BASE+0x68) </span>
<a name="l00198"></a><a class="code" href="group____Z087__NEWREGS.html#a5">00198</a> <span class="preprocessor">#define Z077_REG_TXEMPTY1   (Z077_REG_BASE+0x6c) </span>
<a name="l00199"></a><a class="code" href="group____Z087__NEWREGS.html#a6">00199</a> <span class="preprocessor">#define Z077_REG_RXBDSTAT   (Z077_REG_BASE+0x70) </span>
<a name="l00200"></a><a class="code" href="group____Z087__NEWREGS.html#a7">00200</a> <span class="preprocessor">#define Z077_REG_SMBCTRL    (Z077_REG_BASE+0x74) </span>
<a name="l00202"></a><a class="code" href="group____Z087__NEWREGS.html#a8">00202</a> <span class="preprocessor">#define Z077_REG_COREREV    (Z077_REG_BASE+0x78) </span>
<a name="l00203"></a><a class="code" href="group____Z087__NEWREGS.html#a9">00203</a> <span class="preprocessor">#define Z077_REG_RXERRCNT1  (Z077_REG_BASE+0x7c) </span>
<a name="l00204"></a><a class="code" href="group____Z087__NEWREGS.html#a10">00204</a> <span class="preprocessor">#define Z077_REG_RXERRCNT2  (Z077_REG_BASE+0x80) </span>
<a name="l00205"></a><a class="code" href="group____Z087__NEWREGS.html#a11">00205</a> <span class="preprocessor">#define Z077_REG_TXERRCNT1  (Z077_REG_BASE+0x84) </span>
<a name="l00206"></a><a class="code" href="group____Z087__NEWREGS.html#a12">00206</a> <span class="preprocessor">#define Z077_REG_TXERRCNT2  (Z077_REG_BASE+0x88) </span>
00208 <span class="preprocessor">#define SMB_REG_SCL         0x1</span>
00209 <span class="preprocessor"></span><span class="preprocessor">#define SMB_REG_SDA         0x2</span>
00210 <span class="preprocessor"></span>
<a name="l00246"></a><a class="code" href="group____MACRO1.html#a0">00246</a> <span class="preprocessor">#define Z077_SET_TBD_ADDR(n,adr) \</span>
00247 <span class="preprocessor">        Z77WRITE_D32(Z077_BDBASE, \</span>
00248 <span class="preprocessor">        Z077_BD_OFFS+(((n)+TBD_OFF) * Z077_BDSIZE) + Z077_BD_OFFS_ADR, (adr))</span>
00249 <span class="preprocessor"></span>
00251 <span class="preprocessor">#define Z077_SET_RBD_ADDR(n,adr) \</span>
00252 <span class="preprocessor">        Z77WRITE_D32(Z077_BDBASE, \</span>
00253 <span class="preprocessor">        Z077_BD_OFFS+( ((n)+RBD_OFF) * Z077_BDSIZE)+ Z077_BD_OFFS_ADR, adr)</span>
<a name="l00254"></a><a class="code" href="group____MACRO1.html#a1">00254</a> <span class="preprocessor"></span>
00256 <span class="preprocessor">#define Z077_GET_RBD_ADDR(n) \</span>
00257 <span class="preprocessor">        Z77READ_D32(Z077_BDBASE, Z077_BD_OFFS + \</span>
00258 <span class="preprocessor">        ( ((n)+RBD_OFF) * Z077_BDSIZE) + Z077_BD_OFFS_ADR)</span>
00259 <span class="preprocessor"></span>
00261 <span class="preprocessor">#define Z077_GET_TBD_ADDR(n) \</span>
00262 <span class="preprocessor">        Z77READ_D32(Z077_BDBASE, Z077_BD_OFFS + \</span>
00263 <span class="preprocessor">        ( ((n)+TBD_OFF) * Z077_BDSIZE)+Z077_BD_OFFS_ADR)</span>
00264 <span class="preprocessor"></span>
00266 <span class="preprocessor">#define Z077_SET_TBD_FLAG(n,f) \</span>
00267 <span class="preprocessor">        Z77WRITE_D16(Z077_BDBASE, Z077_BD_OFFS+( ((n)+TBD_OFF)*Z077_BDSIZE), \</span>
00268 <span class="preprocessor">        Z77READ_D16( Z077_BDBASE, Z077_BD_OFFS+( ((n)+TBD_OFF)*Z077_BDSIZE))| \</span>
00269 <span class="preprocessor">        (f) )</span>
<a name="l00270"></a><a class="code" href="group____MACRO1.html#a3">00270</a> <span class="preprocessor"></span>
00272 <span class="preprocessor">#define Z077_SET_RBD_FLAG(n,f) \</span>
00273 <span class="preprocessor">        Z77WRITE_D16(Z077_BDBASE, Z077_BD_OFFS + ((n)+RBD_OFF) * Z077_BDSIZE,\</span>
00274 <span class="preprocessor">        Z77READ_D16( Z077_BDBASE, Z077_BD_OFFS + ((n)+RBD_OFF) * Z077_BDSIZE)|\</span>
00275 <span class="preprocessor">        (f) )</span>
00276 <span class="preprocessor"></span>
<a name="l00278"></a><a class="code" href="group____MACRO1.html#a4">00278</a> <span class="preprocessor">#define Z077_CLR_TBD_FLAG(n,f) \</span>
00279 <span class="preprocessor">     Z77WRITE_D16(Z077_BDBASE, Z077_BD_OFFS + (((n)+TBD_OFF) * Z077_BDSIZE),\</span>
00280 <span class="preprocessor">     Z77READ_D16( Z077_BDBASE, Z077_BD_OFFS + (((n)+TBD_OFF) * Z077_BDSIZE)) &amp;\</span>
00281 <span class="preprocessor">     ~(f) )</span>
00282 <span class="preprocessor"></span>
00284 <span class="preprocessor">#define Z077_CLR_RBD_FLAG(n,f) \</span>
00285 <span class="preprocessor">      Z77WRITE_D16(Z077_BDBASE, Z077_BD_OFFS + ((n)+RBD_OFF) * Z077_BDSIZE,\</span>
00286 <span class="preprocessor">      Z77READ_D16( Z077_BDBASE, Z077_BD_OFFS + ((n)+RBD_OFF) * Z077_BDSIZE) &amp;\</span>
00287 <span class="preprocessor">      ~(f) )</span>
<a name="l00288"></a><a class="code" href="group____MACRO1.html#a5">00288</a> <span class="preprocessor"></span>
00290 <span class="preprocessor">#define Z077_GET_RBD_FLAG(n,f) \</span>
00291 <span class="preprocessor">       (Z77READ_D16(Z077_BDBASE, Z077_BD_OFFS+( ((n)+RBD_OFF)*Z077_BDSIZE)) &amp;\</span>
00292 <span class="preprocessor">       (f) )</span>
00293 <span class="preprocessor"></span>
00296 <span class="preprocessor">#define Z077_GET_TBD_FLAG(n,f) \</span>
00297 <span class="preprocessor">       (Z77READ_D16(Z077_BDBASE, Z077_BD_OFFS+( ((n)+TBD_OFF)*Z077_BDSIZE)) &amp;\</span>
<a name="l00298"></a><a class="code" href="group____MACRO1.html#a6">00298</a> <span class="preprocessor">       (f) )</span>
00299 <span class="preprocessor"></span>
00302 <span class="preprocessor">#define Z077_SET_TBD_LEN(n,l) Z77WRITE_D16(Z077_BDBASE, \</span>
00303 <span class="preprocessor">        Z077_BD_OFFS + Z077_BD_OFFS_LEN+( ((n)+TBD_OFF) * Z077_BDSIZE), (l));</span>
00304 <span class="preprocessor"></span>
00307 <span class="preprocessor">#define Z077_GET_TBD_LEN(n) Z77READ_D16(Z077_BDBASE, \</span>
<a name="l00308"></a><a class="code" href="group____MACRO1.html#a7">00308</a> <span class="preprocessor">        Z077_BD_OFFS + Z077_BD_OFFS_LEN+( ((n)+TBD_OFF) * Z077_BDSIZE))</span>
00309 <span class="preprocessor"></span>
00312 <span class="preprocessor">#define Z077_GET_RBD_LEN(n)  Z77READ_D16(Z077_BDBASE, \</span>
00313 <span class="preprocessor">        Z077_BD_OFFS+( ((n)+RBD_OFF) * Z077_BDSIZE) + Z077_BD_OFFS_LEN )</span>
00314 <span class="preprocessor"></span>
00317 <span class="preprocessor">#define Z077_CLR_RBD_LEN(n) \</span>
<a name="l00318"></a><a class="code" href="group____MACRO1.html#a8">00318</a> <span class="preprocessor">        Z77WRITE_D16(Z077_BDBASE, \</span>
00319 <span class="preprocessor">        Z077_BD_OFFS+( ((n)+RBD_OFF) * Z077_BDSIZE)+Z077_BD_OFFS_LEN, 0 );</span>
00320 <span class="preprocessor"></span>
00322 <span class="preprocessor">#define Z077_GET_RBD_ADDR(n) \</span>
00323 <span class="preprocessor">        Z77READ_D32(Z077_BDBASE, Z077_BD_OFFS + \</span>
00324 <span class="preprocessor">        ( ((n)+RBD_OFF) * Z077_BDSIZE) + Z077_BD_OFFS_ADR)</span>
00325 <span class="preprocessor"></span>
<a name="l00327"></a><a class="code" href="group____MACRO1.html#a9">00327</a> <span class="preprocessor">#define Z077_RBD_EMPTY(n) Z077_GET_RBD_FLAG((n), OETH_RX_BD_EMPTY)</span>
00328 <span class="preprocessor"></span>
00330 
00335 <span class="preprocessor">#define OETH_TOTAL_BD       128     </span>
<a name="l00336"></a><a class="code" href="group____MACRO1.html#a10">00336</a> <span class="preprocessor">#define OETH_MAXBUF_LEN     0x610   </span>
00338 <span class="preprocessor"></span>
00339 <span class="preprocessor"></span>
00344 <span class="preprocessor">#define ETHT_MESSAGE_OFF    0   </span>
00345 <span class="preprocessor">#define ETHT_MESSAGE_LVL1   1   </span>
00346 <span class="preprocessor">#define ETHT_MESSAGE_LVL2   2   </span>
00347 <span class="preprocessor">#define ETHT_MESSAGE_LVL3   3   </span>
00348 <span class="preprocessor">#define Z77_MAX_MSGLVL          ETHT_MESSAGE_LVL3    </span><span class="comment">/* to be set to highest LVL */</span>        
00349 
00356 <span class="preprocessor">#define OETH_TX_BD_READY     0x8000   </span>
<a name="l00357"></a><a class="code" href="group____MACRO1.html#a13">00357</a> <span class="preprocessor">#define OETH_TX_BD_IRQ       0x4000   </span>
00358 <span class="preprocessor">#define OETH_TX_BD_WRAP      0x2000   </span>
00359 <span class="preprocessor">#define OETH_TX_BD_PAD       0x1000   </span>
00360 <span class="preprocessor">#define OETH_TX_BD_CRC       0x0800   </span>
00361 <span class="preprocessor">#define OETH_TX_BD_UNDERRUN  0x0100   </span>
00362 <span class="preprocessor">#define OETH_TX_BD_RETRY     0x00F0   </span>
00363 <span class="preprocessor">#define OETH_TX_BD_RETLIM    0x0008   </span>
00364 <span class="preprocessor">#define OETH_TX_BD_LATECOL   0x0004   </span>
<a name="l00365"></a><a class="code" href="men__16z077__eth_8h.html#a74">00365</a> <span class="preprocessor">#define OETH_TX_BD_DEFER     0x0002   </span>
00366 <span class="preprocessor">#define OETH_TX_BD_CARRIER   0x0001   </span>
00368 <span class="preprocessor"></span>
00369 <span class="preprocessor"></span>
00374 <span class="preprocessor">#define OETH_RX_BD_EMPTY     0x8000 </span>
00375 <span class="preprocessor">#define OETH_RX_BD_IRQ       0x4000 </span>
00376 <span class="preprocessor">#define OETH_RX_BD_WRAP      0x2000 </span>
00377 <span class="preprocessor">#define OETH_RX_BD_MISS      0x0080 </span>
00378 <span class="preprocessor">#define OETH_RX_BD_OVERRUN   0x0040 </span>
00379 <span class="preprocessor">#define OETH_RX_BD_INVSYMB   0x0020 </span>
00380 <span class="preprocessor">#define OETH_RX_BD_DRIBBLE   0x0010 </span>
00381 <span class="preprocessor">#define OETH_RX_BD_TOOLONG   0x0008 </span>
<a name="l00382"></a><a class="code" href="group____Z077__REGBITS.html#a0">00382</a> <span class="preprocessor">#define OETH_RX_BD_SHORT     0x0004 </span>
<a name="l00383"></a><a class="code" href="group____Z077__REGBITS.html#a1">00383</a> <span class="preprocessor">#define OETH_RX_BD_CRCERR    0x0002 </span>
00384 <span class="preprocessor">#define OETH_RX_BD_LATECOL   0x0001 </span>
00386 <span class="preprocessor"></span>
00387 <span class="preprocessor"></span>
<a name="l00392"></a><a class="code" href="group____ETHT1.html#a1">00392</a> <span class="preprocessor">#define REG_RXSTAT_REV      (1&lt;&lt;6)  </span>
<a name="l00393"></a><a class="code" href="group____ETHT1.html#a2">00393</a> <span class="preprocessor">#define REG_RXSTAT_RXEMPTY  (1&lt;&lt;7)  </span>
00395 <span class="preprocessor"></span>
00396 <span class="preprocessor"></span>
00400 <span class="preprocessor">#define REG_COREREV_REVISION    (1&lt;&lt;0)  </span>
00401 <span class="preprocessor">#define REG_COREREV_IRQNEWEN    (1&lt;&lt;8)  </span>
<a name="l00403"></a><a class="code" href="group____TXDB.html#a0">00403</a> <span class="preprocessor"></span>
<a name="l00404"></a><a class="code" href="group____TXDB.html#a1">00404</a> <span class="preprocessor"></span>
<a name="l00408"></a><a class="code" href="group____TXDB.html#a5">00408</a> <span class="preprocessor">#define OETH_MODER_RXEN     (1&lt;&lt;0)  </span>
<a name="l00409"></a><a class="code" href="group____TXDB.html#a6">00409</a> <span class="preprocessor">#define OETH_MODER_TXEN     (1&lt;&lt;1)  </span>
<a name="l00410"></a><a class="code" href="group____TXDB.html#a7">00410</a> <span class="preprocessor">#define OETH_MODER_NOPRE    (1&lt;&lt;2)  </span>
<a name="l00411"></a><a class="code" href="group____TXDB.html#a8">00411</a> <span class="preprocessor">#define OETH_MODER_BRO      (1&lt;&lt;3)  </span>
<a name="l00412"></a><a class="code" href="group____TXDB.html#a9">00412</a> <span class="preprocessor">#define OETH_MODER_IAM      (1&lt;&lt;4)  </span>
<a name="l00413"></a><a class="code" href="group____TXDB.html#a10">00413</a> <span class="preprocessor">#define OETH_MODER_PRO      (1&lt;&lt;5)  </span>
00414 <span class="preprocessor">#define OETH_MODER_IFG      (1&lt;&lt;6)  </span>
00415 <span class="preprocessor">#define OETH_MODER_LOOPBCK  (1&lt;&lt;7)  </span>
00416 <span class="preprocessor">#define OETH_MODER_NOBCKOF  (1&lt;&lt;8)  </span>
00417 <span class="preprocessor">#define OETH_MODER_EXDFREN  (1&lt;&lt;9)  </span>
00418 <span class="preprocessor">#define OETH_MODER_FULLD    (1&lt;&lt;10) </span>
00419 <span class="preprocessor">#define OETH_MODER_RST      (1&lt;&lt;11) </span>
00420 <span class="preprocessor">#define OETH_MODER_DLYCRCEN (1&lt;&lt;12) </span>
<a name="l00421"></a><a class="code" href="group____RXDB.html#a0">00421</a> <span class="preprocessor">#define OETH_MODER_CRCEN    (1&lt;&lt;13) </span>
<a name="l00422"></a><a class="code" href="group____RXDB.html#a1">00422</a> <span class="preprocessor">#define OETH_MODER_HUGEN    (1&lt;&lt;14) </span>
<a name="l00423"></a><a class="code" href="group____RXDB.html#a2">00423</a> <span class="preprocessor">#define OETH_MODER_PAD      (1&lt;&lt;15) </span>
<a name="l00424"></a><a class="code" href="group____RXDB.html#a3">00424</a> <span class="preprocessor">#define OETH_MODER_RECSMALL (1&lt;&lt;16) </span>
<a name="l00425"></a><a class="code" href="group____RXDB.html#a4">00425</a> <span class="preprocessor">#define OETH_MODER_RX_IDLE  (1&lt;&lt;17) </span>
<a name="l00426"></a><a class="code" href="group____RXDB.html#a5">00426</a> <span class="preprocessor">#define OETH_MODER_TX_IDLE  (1&lt;&lt;18) </span>
<a name="l00427"></a><a class="code" href="group____RXDB.html#a6">00427</a> <span class="preprocessor">#define OETH_MODER_HD_AVAL   (1&lt;&lt;19) </span>
<a name="l00428"></a><a class="code" href="group____RXDB.html#a7">00428</a> <span class="preprocessor">#define OETH_MODER_NIOSSHIFT (1&lt;&lt;27) </span>
<a name="l00429"></a><a class="code" href="group____RXDB.html#a8">00429</a> <span class="preprocessor">#define OETH_MODER_COMPLI    (5&lt;&lt;29) </span>
00432 <span class="preprocessor"></span>
00433 <span class="preprocessor"></span>
00438 <span class="preprocessor">#define OETH_INT_TXB        0x0001 </span>
<a name="l00439"></a><a class="code" href="group____RXST.html#a0">00439</a> <span class="preprocessor">#define OETH_INT_TXE        0x0002 </span>
<a name="l00440"></a><a class="code" href="group____RXST.html#a1">00440</a> <span class="preprocessor">#define OETH_INT_RXF        0x0004 </span>
00441 <span class="preprocessor">#define OETH_INT_RXE        0x0008 </span>
00442 <span class="preprocessor">#define OETH_INT_BUSY       0x0010 </span>
00443 <span class="preprocessor">#define OETH_INT_TXC        0x0020 </span>
00444 <span class="preprocessor">#define OETH_INT_RXC        0x0040 </span>
00446 <span class="preprocessor"></span>
<a name="l00447"></a><a class="code" href="group____COREREV.html#a0">00447</a> <span class="preprocessor"></span>
00451 <span class="preprocessor">#define OETH_INT_MASK_TXB       0x0001 </span>
00452 <span class="preprocessor">#define OETH_INT_MASK_TXE       0x0002 </span>
00453 <span class="preprocessor">#define OETH_INT_MASK_RXF       0x0004 </span>
00454 <span class="preprocessor">#define OETH_INT_MASK_RXE       0x0008 </span>
<a name="l00455"></a><a class="code" href="group____MODER.html#a0">00455</a> <span class="preprocessor">#define OETH_INT_MASK_BUSY      0x0010 </span>
<a name="l00456"></a><a class="code" href="group____MODER.html#a1">00456</a> <span class="preprocessor">#define OETH_INT_MASK_TXC       0x0020 </span>
<a name="l00457"></a><a class="code" href="group____MODER.html#a2">00457</a> <span class="preprocessor">#define OETH_INT_MASK_RXC       0x0040 </span>
<a name="l00459"></a><a class="code" href="group____MODER.html#a4">00459</a> <span class="preprocessor"></span>
<a name="l00460"></a><a class="code" href="group____MODER.html#a5">00460</a> <span class="preprocessor"></span>
<a name="l00464"></a><a class="code" href="group____MODER.html#a9">00464</a> <span class="preprocessor">#define OETH_CTRLMODER_PASSALL  0x0001 </span>
<a name="l00465"></a><a class="code" href="group____MODER.html#a10">00465</a> <span class="preprocessor">#define OETH_CTRLMODER_RXFLOW   0x0002 </span>
<a name="l00466"></a><a class="code" href="group____MODER.html#a11">00466</a> <span class="preprocessor">#define OETH_CTRLMODER_TXFLOW   0x0004 </span>
<a name="l00468"></a><a class="code" href="group____MODER.html#a13">00468</a> <span class="preprocessor"></span>
<a name="l00469"></a><a class="code" href="group____MODER.html#a14">00469</a> <span class="preprocessor"></span>
<a name="l00473"></a><a class="code" href="group____MODER.html#a18">00473</a> <span class="preprocessor">#define OETH_MIIMODER_CLKDIV    0x00FF </span>
<a name="l00474"></a><a class="code" href="group____MODER.html#a19">00474</a> <span class="preprocessor">#define OETH_MIIMODER_NOPRE     0x0100 </span>
<a name="l00475"></a><a class="code" href="group____MODER.html#a20">00475</a> <span class="preprocessor">#define OETH_MIIMODER_RST       0x0200 </span>
00477 <span class="preprocessor"></span>
00478 <span class="preprocessor"></span>
00482 <span class="preprocessor">#define OETH_MIICMD_SCANSTAT    0x0001 </span>
00483 <span class="preprocessor">#define OETH_MIICMD_RSTAT       0x0002 </span>
00484 <span class="preprocessor">#define OETH_MIICMD_WCTRLDATA   0x0004 </span>
<a name="l00486"></a><a class="code" href="group____INTS.html#a1">00486</a> <span class="preprocessor"></span>
<a name="l00487"></a><a class="code" href="group____INTS.html#a2">00487</a> <span class="preprocessor"></span>
<a name="l00491"></a><a class="code" href="group____INTS.html#a6">00491</a> <span class="preprocessor">#define OETH_MIIADDRESS_FIAD    0x001F </span>
00492 <span class="preprocessor">#define OETH_MIIADDRESS_RGAD    0x1F00 </span>
00494 <span class="preprocessor"></span>
00495 <span class="preprocessor"></span>
<a name="l00499"></a><a class="code" href="group____INTM.html#a1">00499</a> <span class="preprocessor">#define OETH_MIISTATUS_LINKFAIL 0x0001 </span>
<a name="l00500"></a><a class="code" href="group____INTM.html#a2">00500</a> <span class="preprocessor">#define OETH_MIISTATUS_BUSY     0x0002 </span>
<a name="l00501"></a><a class="code" href="group____INTM.html#a3">00501</a> <span class="preprocessor">#define OETH_MIISTATUS_NVALID   0x0004 </span>
<a name="l00503"></a><a class="code" href="group____INTM.html#a5">00503</a> <span class="preprocessor"></span>
<a name="l00504"></a><a class="code" href="group____INTM.html#a6">00504</a> <span class="preprocessor"></span>
00509 <span class="preprocessor">#define Z077_PHY_ADDRESS        1</span>
00510 <span class="preprocessor"></span><span class="preprocessor">#define MII_100_BASE_TX_PHY     0x1f</span>
<a name="l00511"></a><a class="code" href="group____CTRLMODER.html#a0">00511</a> <span class="preprocessor"></span><span class="preprocessor">#define MII_100BASE_PWR         (1&lt;&lt;10)</span>
<a name="l00512"></a><a class="code" href="group____CTRLMODER.html#a1">00512</a> <span class="preprocessor"></span><span class="preprocessor">#define Z077_WEIGHT             0x40 </span><span class="comment">/* shall be equal to ETH frame storage capacity */</span>
<a name="l00513"></a><a class="code" href="group____CTRLMODER.html#a2">00513</a> 
<a name="l00521"></a><a class="code" href="group____MODERMII.html#a1">00521</a> <span class="preprocessor">#define Z077_BDSIZE     0x8      </span>
<a name="l00522"></a><a class="code" href="group____MODERMII.html#a2">00522</a> <span class="preprocessor">#define Z077_TBD_NUM    0x40     </span>
00523 <span class="preprocessor">#define Z077_RBD_NUM    0x40     </span>
00524 <span class="preprocessor">#define Z077_BDALIGN    (1&lt;&lt;10)  </span>
00526 <span class="preprocessor"></span>
00527 <span class="preprocessor"></span>
<a name="l00531"></a><a class="code" href="group____CMDR.html#a2">00531</a> <span class="preprocessor">#define Z077_BD_AREA_SIZE ((Z077_TBD_NUM+Z077_RBD_NUM)*Z077_BDSIZE)</span>
00532 <span class="preprocessor"></span><span class="preprocessor">#define Z077_BD_OFFS_STAT   0x0  </span>
00533 <span class="preprocessor">#define Z077_BD_OFFS_LEN    0x2  </span>
00534 <span class="preprocessor">#define Z077_BD_OFFS_ADR    0x4  </span>
00536 <span class="preprocessor"></span>
00537 <span class="preprocessor"></span>
00541 <span class="preprocessor">#define Z077_TBD_RDY     0x8000 </span>
00542 <span class="preprocessor">#define Z077_TBD_IRQ     0x4000 </span>
00543 <span class="preprocessor">#define Z077_TBD_WRAP    0x2000 </span>
00544 <span class="preprocessor">#define Z077_TBD_PAD     0x1000 </span>
00545 <span class="preprocessor">#define Z077_TBD_CRC     0x0800 </span>
<a name="l00546"></a><a class="code" href="group____MIISR.html#a0">00546</a> <span class="preprocessor">#define Z077_TBD_UR      0x0100 </span>
<a name="l00547"></a><a class="code" href="group____MIISR.html#a1">00547</a> <span class="preprocessor">#define Z077_TBD_RETRY   0x00f0 </span>
<a name="l00548"></a><a class="code" href="group____MIISR.html#a2">00548</a> <span class="preprocessor">#define Z077_TBD_RTRANS  0x0008 </span>
00549 <span class="preprocessor">#define Z077_TBD_LCOLL   0x0004 </span>
00550 <span class="preprocessor">#define Z077_TBD_DEFER   0x0002 </span>
00551 <span class="preprocessor">#define Z077_TBD_CSLOST  0x0001 </span>
00553 <span class="preprocessor"></span>
00554 <span class="preprocessor"></span>
00558 <span class="preprocessor">#define Z077_RBD_EMP    0x8000  </span>
00559 <span class="preprocessor">#define Z077_RBD_IRQ    0x4000  </span>
00560 <span class="preprocessor">#define Z077_RBD_WRAP   Z077_TBD_WRAP</span>
00561 <span class="preprocessor"></span><span class="preprocessor">#define Z077_RBD_CFRM   0x0100 </span>
00562 <span class="preprocessor">#define Z077_RBD_MISS   0x0080 </span>
00563 <span class="preprocessor">#define Z077_RBD_OV     0x0040 </span>
00564 <span class="preprocessor">#define Z077_RBD_IS     0x0020 </span>
00565 <span class="preprocessor">#define Z077_RBD_DN     0x0010 </span>
00566 <span class="preprocessor">#define Z077_RBD_TL     0x0008 </span>
00567 <span class="preprocessor">#define Z077_RBD_SF     0x0004 </span>
<a name="l00568"></a><a class="code" href="group____BDDEF.html#a0">00568</a> <span class="preprocessor">#define Z077_RBD_CERR   0x0002 </span>
<a name="l00569"></a><a class="code" href="group____BDDEF.html#a1">00569</a> <span class="preprocessor">#define Z077_RBD_LC     0x0001 </span>
<a name="l00571"></a><a class="code" href="group____BDDEF.html#a3">00571</a> <span class="preprocessor"></span>
00572 <span class="preprocessor"></span>
00573 <span class="comment">/* Cache macros */</span>
00574 <span class="preprocessor">#if 0</span>
00575 <span class="preprocessor"></span><span class="preprocessor"># define Z77WRITE_D32(ma,offs,val)      MWRITE_D32(ma,offs,val)</span>
00576 <span class="preprocessor"></span><span class="preprocessor"># define Z77WRITE_D16(ma,offs,val)      MWRITE_D16(ma,offs,val)</span>
00577 <span class="preprocessor"></span><span class="preprocessor"># define Z77READ_D32(ma,offs)           MREAD_D32(ma,offs)</span>
00578 <span class="preprocessor"></span><span class="preprocessor"># define Z77READ_D16(ma,offs)           MREAD_D16(ma,offs)</span>
<a name="l00579"></a><a class="code" href="group____BDAREA.html#a1">00579</a> <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l00580"></a><a class="code" href="group____BDAREA.html#a2">00580</a> <span class="preprocessor"></span><span class="preprocessor"># define Z77WRITE_D32(ma,offs,val)      writel(val, (void*)(ma+offs))</span>
<a name="l00581"></a><a class="code" href="group____BDAREA.html#a3">00581</a> <span class="preprocessor"></span><span class="preprocessor"># define Z77WRITE_D16(ma,offs,val)      writew(val, (void*)(ma+offs))</span>
00582 <span class="preprocessor"></span><span class="preprocessor"># define Z77READ_D32(ma,offs)           readl((void*)(ma+offs))</span>
00583 <span class="preprocessor"></span><span class="preprocessor"># define Z77READ_D16(ma,offs)           readw((void*)(ma+offs))</span>
00584 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00585 <span class="preprocessor"></span>
00586 
<a name="l00591"></a><a class="code" href="group____TXBDBITS.html#a3">00591</a> <span class="preprocessor">#define Z077_DISABLE_IRQ(n) \</span>
<a name="l00592"></a><a class="code" href="group____TXBDBITS.html#a4">00592</a> <span class="preprocessor">        Z77WRITE_D32(Z077_BASE, Z077_REG_INT_MASK, \</span>
<a name="l00593"></a><a class="code" href="group____TXBDBITS.html#a5">00593</a> <span class="preprocessor">         (Z77READ_D32(Z077_BASE,Z077_REG_INT_MASK)) &amp; ~(n) )</span>
<a name="l00594"></a><a class="code" href="group____TXBDBITS.html#a6">00594</a> <span class="preprocessor"></span>
<a name="l00596"></a><a class="code" href="group____TXBDBITS.html#a8">00596</a> <span class="preprocessor">#define Z077_ENABLE_IRQ(n) \</span>
<a name="l00597"></a><a class="code" href="group____TXBDBITS.html#a9">00597</a> <span class="preprocessor">        Z77WRITE_D32(Z077_BASE, Z077_REG_INT_MASK, \</span>
<a name="l00598"></a><a class="code" href="group____TXBDBITS.html#a10">00598</a> <span class="preprocessor">            Z77READ_D32(Z077_BASE, Z077_REG_INT_MASK)|(n))</span>
00599 <span class="preprocessor"></span>
00601 <span class="preprocessor">#define Z077_CLR_MODE_FLAG(f) \</span>
00602 <span class="preprocessor">        Z77WRITE_D32(Z077_BASE, Z077_REG_MODER, \</span>
00603 <span class="preprocessor">        Z77READ_D32(Z077_BASE, Z077_REG_MODER) &amp;~(f))</span>
00604 <span class="preprocessor"></span>
<a name="l00606"></a><a class="code" href="group____RXBDBITS.html#a1">00606</a> <span class="preprocessor">#define Z077_SET_MODE_FLAG(f) \</span>
00607 <span class="preprocessor">        Z77WRITE_D32(Z077_BASE, Z077_REG_MODER, \</span>
<a name="l00608"></a><a class="code" href="group____RXBDBITS.html#a3">00608</a> <span class="preprocessor">        Z77READ_D32(Z077_BASE, Z077_REG_MODER)|(f))</span>
<a name="l00609"></a><a class="code" href="group____RXBDBITS.html#a4">00609</a> <span class="preprocessor"></span>
<a name="l00611"></a><a class="code" href="group____RXBDBITS.html#a6">00611</a> 
<a name="l00612"></a><a class="code" href="group____RXBDBITS.html#a7">00612</a> 
00618 <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structz077__reg__info.html">z077_reg_info</a>
00619 {
00620     <span class="keyword">const</span> <span class="keywordtype">char</span>  *<a class="code" href="structz077__reg__info.html#o0">name</a>;  
00621     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structz077__reg__info.html#o1">addr</a>;  
00622 } <a class="code" href="structz077__reg__info.html">Z077_REG_INFO</a>;
00629 <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structphy__device__tbl.html">phy_device_tbl</a>
00630 {
00631     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structphy__device__tbl.html#o0">ident</a>; 
00632     <span class="keyword">const</span> <span class="keywordtype">char</span>  *<a class="code" href="structphy__device__tbl.html#o1">name</a>;  
00633 } <a class="code" href="structphy__device__tbl.html">PHY_DEVICE_TBL</a>;
00641 <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structz077__bd.html">z077_bd</a> {
00642     <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>  <a class="code" href="structz077__bd.html#o0">BdLen</a>;      
00643     <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>  <a class="code" href="structz077__bd.html#o1">BdStat</a>;     
00644     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>    <a class="code" href="structz077__bd.html#o2">BdAddr</a>;     
00645     dma_addr_t      <a class="code" href="structz077__bd.html#o3">hdlDma</a>;     
<a name="l00646"></a><a class="code" href="group____MACRO0.html#a1">00646</a> <span class="preprocessor">#if defined(Z77_USE_VLAN_TAGGING)</span>
00647 <span class="preprocessor"></span>    u32             vlan_tag;   
00648 <span class="preprocessor">#define RXD_LEN_MASK    0x0000ffff</span>
00649 <span class="preprocessor"></span><span class="preprocessor">#define RXD_LEN_SHIFT   0</span>
00650 <span class="preprocessor"></span>
00651     u32             type_flags;
00652 <span class="preprocessor">#define RXD_FLAG_VLAN           0x0040</span>
00653 <span class="preprocessor"></span>    u32             err_vlan;
<a name="l00654"></a><a class="code" href="group____MACRO0.html#a2">00654</a> 
00655 <span class="preprocessor">#define RXD_VLAN_MASK           0x0000ffff</span>
00656 <span class="preprocessor"></span>
00657 <span class="preprocessor">#endif</span>
00658 <span class="preprocessor"></span>
00659 } <a class="code" href="structz077__bd.html">Z077_BD</a>;
00661 <span class="preprocessor">#endif </span><span class="comment">/* #ifndef _MEN_Z77_ETH_ */</span>
</pre></div>
	</div>
</div>

<div class="footer">
<!-- Footer -->
	<p class="footer">
	Generated for Linux native Driver for 16Z077/87 Ethernet IP cores using <a href="http://www.doxygen.org">doxygen</a>.<br>
	Copyright &copy; 2014 <a href="http://www.men.de">MEN Mikro Elektronik GmbH</a>. All Rights Reserved.
	</p>
</div>

</body>
</html>

