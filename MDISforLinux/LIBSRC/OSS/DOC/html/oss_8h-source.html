<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>MEN - OSS module for Linux/RTAI - oss.h Source File</title>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<meta name="Language" content="en, english">
<meta name="Copyright" content="All material copyright MEN Mikro Elektronik GmbH">
<link href="men_stylesheet.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class="left_to_right" style="padding-top: 6px; background-color: #F0F0F0; height: 110px; border-bottom: 2px solid #D1D1D2;">
	<!-- Titel -->
	<img src="menlogo.gif" alt="MEN" style="float: left; height: 103px; width: 155px; margin: 0px;"></a>
	<h1 style="margin: 0px; padding-top: 35px; padding-bottom: 0px;">OSS module for Linux/RTAI &nbsp; 2.15</h1>
	<h3>oss.h Source File</h3>
</div>

<div class="left_to_right">
<!-- Hauptteil -->
	<div class="main">
<!-- Generated by Doxygen 1.3.2 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="globals.html">Globals</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>oss.h</h1><a href="oss_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <span class="comment">/***********************  I n c l u d e  -  F i l e  ************************/</span>
00018 <span class="comment">/*-------------------------------[ History ]---------------------------------</span>
00019 <span class="comment"> *</span>
00020 <span class="comment"> * $Log: oss.h,v $</span>
00021 <span class="comment"> * Revision 1.54  2011/05/18 17:00:25  CRuff</span>
00022 <span class="comment"> * R: 1. support of pci domains</span>
00023 <span class="comment"> * M: 1. added macros to merge pci bus and domain number, and to extract them</span>
00024 <span class="comment"> *       from a merged bus/domain number</span>
00025 <span class="comment"> *</span>
00026 <span class="comment"> * Revision 1.53  2010/11/29 16:10:19  dpfeuffer</span>
00027 <span class="comment"> * R: OSS_SpinLockXxx function introduction</span>
00028 <span class="comment"> * M: OSS_SpinLockXxx declaration added</span>
00029 <span class="comment"> *</span>
00030 <span class="comment"> * Revision 1.52  2009/11/16 15:50:16  ufranke</span>
00031 <span class="comment"> * R: OSS_SWAP32 compile error with MSVC</span>
00032 <span class="comment"> * M: removed spaces behind \</span>
00033 <span class="comment"> *</span>
00034 <span class="comment"> * Revision 1.51  2009/11/13 14:00:48  ufranke</span>
00035 <span class="comment"> * R: OSS_SWAP32 produces unexpected results if used with signed integers</span>
00036 <span class="comment"> *    i.e. OSS_SWAP32( 1&lt;&lt;31 ) delivers 0xFFFFFF80 instead of 0x00000080</span>
00037 <span class="comment"> * M: fixed OSS_SWAP32</span>
00038 <span class="comment"> *</span>
00039 <span class="comment"> * Revision 1.50  2009/10/08 10:58:25  ufranke</span>
00040 <span class="comment"> * R: GCC warning: integer constant is too large for 'unsigned long' type</span>
00041 <span class="comment"> * M: OSS_SWAP64 improved with LL</span>
00042 <span class="comment"> *</span>
00043 <span class="comment"> * Revision 1.49  2009/03/17 13:59:38  dpfeuffer</span>
00044 <span class="comment"> * R: 1. no bustype define for chameleon devices</span>
00045 <span class="comment"> *    2. compiler warnings wit VC2008 64bit compiler</span>
00046 <span class="comment"> * M: 1. OSS_BUSTYPE_CHAM added</span>
00047 <span class="comment"> *    2. debug prints with pointers changed to %p</span>
00048 <span class="comment"> *</span>
00049 <span class="comment"> * Revision 1.48  2009/02/12 10:54:55  ww</span>
00050 <span class="comment"> * R: OS9 (68K) doesn't support u_int64</span>
00051 <span class="comment"> * M: Added switch OS9000 &amp;&amp; OS9 for u_int64</span>
00052 <span class="comment"> *</span>
00053 <span class="comment"> * Revision 1.47  2008/08/08 10:01:43  aw</span>
00054 <span class="comment"> * R: OS9 doesn't support u_int64</span>
00055 <span class="comment"> * M: Added switch OS9000 for u_int64</span>
00056 <span class="comment"> *</span>
00057 <span class="comment"> * Revision 1.46  2008/05/29 14:48:01  CKauntz</span>
00058 <span class="comment"> * Fixed OSS_SWAP64 macro</span>
00059 <span class="comment"> *</span>
00060 <span class="comment"> * Revision 1.44  2008/05/27 16:44:22  CKauntz</span>
00061 <span class="comment"> * Added OSS_Swap64 macro</span>
00062 <span class="comment"> *</span>
00063 <span class="comment"> * Revision 1.43  2008/05/20 10:25:17  dpfeuffer</span>
00064 <span class="comment"> * OSS_MemGet(): prototype corrected according oss_specification.c</span>
00065 <span class="comment"> *</span>
00066 <span class="comment"> * Revision 1.42  2006/08/02 12:28:45  ts</span>
00067 <span class="comment"> * Cosmetics</span>
00068 <span class="comment"> *</span>
00069 <span class="comment"> * Revision 1.41  2006/06/28 15:19:40  ts</span>
00070 <span class="comment"> * + OSS_BUSTYPE_SMB</span>
00071 <span class="comment"> *</span>
00072 <span class="comment"> * Revision 1.39  2005/11/25 09:58:44  cschuster</span>
00073 <span class="comment"> * changed OSS_VME_DM/OSS_VME_AM docu from single-line style to common style</span>
00074 <span class="comment"> *</span>
00075 <span class="comment"> * Revision 1.38  2005/11/24 16:19:00  dpfeuffer</span>
00076 <span class="comment"> * added OSS_GetSmbHdl(), OSS_SetSmbHdl() prototype</span>
00077 <span class="comment"> *</span>
00078 <span class="comment"> * Revision 1.37  2005/07/14 10:40:05  cs</span>
00079 <span class="comment"> * changed defines OSS_VME4L_* to OSS_VME_*</span>
00080 <span class="comment"> *</span>
00081 <span class="comment"> * Revision 1.36  2005/07/08 11:32:46  cs</span>
00082 <span class="comment"> * added support for userspace</span>
00083 <span class="comment"> * added some bit mappings for PCI config header</span>
00084 <span class="comment"> * changed header to doxygen</span>
00085 <span class="comment"> *</span>
00086 <span class="comment"> * Revision 1.35  2005/06/23 16:03:01  kp</span>
00087 <span class="comment"> * Copyright line changed</span>
00088 <span class="comment"> *</span>
00089 <span class="comment"> * Revision 1.34  2004/12/20 08:36:11  kp</span>
00090 <span class="comment"> * added OSS_DL_InsertAfter prototype</span>
00091 <span class="comment"> *</span>
00092 <span class="comment"> * Revision 1.33  2004/05/26 10:54:12  dpfeuffer</span>
00093 <span class="comment"> * - OSS_VME_DM/AM defines added</span>
00094 <span class="comment"> * - OSS_MapVmeAddr(), OSS_UnMapVmeAddr() prototype added</span>
00095 <span class="comment"> *</span>
00096 <span class="comment"> * Revision 1.32  2004/04/29 15:55:53  cs</span>
00097 <span class="comment"> * bugfix in prototype for OSS_MemFill, didn't match exactly with definition</span>
00098 <span class="comment"> *</span>
00099 <span class="comment"> * Revision 1.31  2003/05/09 12:27:17  kp</span>
00100 <span class="comment"> * added protos for OSS_AlarmMask()/OSS_AlarmRestore</span>
00101 <span class="comment"> *</span>
00102 <span class="comment"> * Revision 1.30  2003/05/02 12:50:08  dschmidt</span>
00103 <span class="comment"> * OSS_PNP_SUPPORT related functions removed</span>
00104 <span class="comment"> *</span>
00105 <span class="comment"> * Revision 1.29  2003/04/30 17:15:58  dschmidt</span>
00106 <span class="comment"> * PnP support added</span>
00107 <span class="comment"> * OSS_BUSTYPE_UNKNOWN added</span>
00108 <span class="comment"> * OSS_PCI_INVALID added</span>
00109 <span class="comment"> *</span>
00110 <span class="comment"> * Revision 1.28  2003/04/11 16:13:00  kp</span>
00111 <span class="comment"> * added protos for OSS_IrqMaskR/OSS_IrqRestore</span>
00112 <span class="comment"> *</span>
00113 <span class="comment"> * Revision 1.27  2003/02/21 11:24:56  kp</span>
00114 <span class="comment"> * mini change in declaration of OSS_DL_LIST</span>
00115 <span class="comment"> *</span>
00116 <span class="comment"> * Revision 1.26  2001/01/19 14:38:59  kp</span>
00117 <span class="comment"> * added OSS_UnAssignResources</span>
00118 <span class="comment"> *</span>
00119 <span class="comment"> * Revision 1.25  2000/04/20 15:08:13  gromann</span>
00120 <span class="comment"> * Bug fixed in OSS_SWAP16</span>
00121 <span class="comment"> *</span>
00122 <span class="comment"> * Revision 1.24  2000/03/09 16:26:48  Schmidt</span>
00123 <span class="comment"> * NO_SHARED_MEM/NO_CALLBACK switch added for MDIS without shared mem/callback</span>
00124 <span class="comment"> *</span>
00125 <span class="comment"> * Revision 1.23  1999/07/30 11:57:31  Schmidt</span>
00126 <span class="comment"> * OSS_ADDRSPACE_PCICFG added</span>
00127 <span class="comment"> *</span>
00128 <span class="comment"> * Revision 1.22  1999/07/26 15:56:39  Schmidt</span>
00129 <span class="comment"> * OSS_BUSTYPE_MMODULE added</span>
00130 <span class="comment"> * function prototype OSS_PciSetConfig added</span>
00131 <span class="comment"> *</span>
00132 <span class="comment"> * Revision 1.21  1999/06/08 10:47:19  kp</span>
00133 <span class="comment"> * again added typedef OSS_CALLBACK_SET and prototypes for</span>
00134 <span class="comment"> * OSS_CallbackSet/Clear</span>
00135 <span class="comment"> *</span>
00136 <span class="comment"> * Revision 1.20  1999/05/06 13:44:01  Schmidt</span>
00137 <span class="comment"> * OSS_UnMapVirtAddr : parameter addrSpace added</span>
00138 <span class="comment"> *</span>
00139 <span class="comment"> * Revision 1.19  1999/04/23 13:31:05  kp</span>
00140 <span class="comment"> * added functions and prototypes for double linked lists</span>
00141 <span class="comment"> *</span>
00142 <span class="comment"> * Revision 1.18  1999/04/22 10:20:55  Schmidt</span>
00143 <span class="comment"> * swap macros OSS_SWAP16 and OSS_SWAP32 added</span>
00144 <span class="comment"> * prototypes for OSS_Swap16 and OSS_Swap32 added</span>
00145 <span class="comment"> *</span>
00146 <span class="comment"> * Revision 1.17  1999/04/21 17:08:30  kp</span>
00147 <span class="comment"> * removed OSS_CALLBACK_xxx structures (now OS-specific)</span>
00148 <span class="comment"> * removed sigCode to OSS_CallbackCreate()</span>
00149 <span class="comment"> * removed OSS_CallbackInfo/Set/Clear</span>
00150 <span class="comment"> * added OSS_CallbackGetStat/SetStat</span>
00151 <span class="comment"> *</span>
00152 <span class="comment"> * Revision 1.16  1999/03/30 09:03:36  Schmidt</span>
00153 <span class="comment"> * OSS_IrqLevelToVector function added</span>
00154 <span class="comment"> * OSS_MapPhysToVirtAddr : parameter 'addrSpace' added</span>
00155 <span class="comment"> * OSS_ADDRSPACE_xxx defines added</span>
00156 <span class="comment"> * OSS_RES_xxx added</span>
00157 <span class="comment"> *</span>
00158 <span class="comment"> * Revision 1.15  1999/03/23 16:58:12  Schmidt</span>
00159 <span class="comment"> * OSS_ISA_MEMORY_ADDR renamed to OSS_ISA_MEM_ADDR</span>
00160 <span class="comment"> * OSS_ISA_PORT_ADDR renamed to OSS_ISA_IO_ADDR</span>
00161 <span class="comment"> *</span>
00162 <span class="comment"> * Revision 1.14  1999/03/23 09:58:48  Schmidt</span>
00163 <span class="comment"> * OSS_BUSTYPE_ISAPNP added</span>
00164 <span class="comment"> *</span>
00165 <span class="comment"> * Revision 1.13  1999/02/26 11:48:22  see</span>
00166 <span class="comment"> * prototype for OSS_GetPid added</span>
00167 <span class="comment"> *</span>
00168 <span class="comment"> * Revision 1.12  1999/02/15 13:57:42  see</span>
00169 <span class="comment"> * missing OSS_CallbackGet prototype added</span>
00170 <span class="comment"> * OSS_SharedMemSet/Link prototypes changed</span>
00171 <span class="comment"> * OSS_SHMEM_CLEAR: linkCnt added</span>
00172 <span class="comment"> *</span>
00173 <span class="comment"> * Revision 1.11  1999/01/29 14:20:34  Schmidt</span>
00174 <span class="comment"> * OSS_IsaGetConfig prototype added</span>
00175 <span class="comment"> * OSS_ISA_xxx defines added</span>
00176 <span class="comment"> *</span>
00177 <span class="comment"> * Revision 1.10  1998/09/18 11:47:51  see</span>
00178 <span class="comment"> * prototypes for (*funct)() added</span>
00179 <span class="comment"> * OSS_CallbackCreate: prototype changed</span>
00180 <span class="comment"> * OSS_CALLBACK_INFO: maxCallback removed</span>
00181 <span class="comment"> *</span>
00182 <span class="comment"> * Revision 1.9  1998/08/25 16:20:10  see</span>
00183 <span class="comment"> * OSS_CALLBACK_INFO: queue overflow counter added</span>
00184 <span class="comment"> *</span>
00185 <span class="comment"> * Revision 1.8  1998/08/20 13:45:30  see</span>
00186 <span class="comment"> * callback prototypes added</span>
00187 <span class="comment"> * old DBG macros (if _OLD_DBG) removed</span>
00188 <span class="comment"> *</span>
00189 <span class="comment"> * Revision 1.7  1998/06/16 09:43:01  see</span>
00190 <span class="comment"> * OSS_AlarmSet prototype changed</span>
00191 <span class="comment"> *</span>
00192 <span class="comment"> * Revision 1.6  1998/05/29 16:34:06  see</span>
00193 <span class="comment"> * added OSS_AlarmXXX prototypes</span>
00194 <span class="comment"> *</span>
00195 <span class="comment"> * Revision 1.5  1998/05/18 11:13:26  kp</span>
00196 <span class="comment"> * added OSS_TickRateGet/OSS_TickGet</span>
00197 <span class="comment"> * added OSS_StrCpy</span>
00198 <span class="comment"> *</span>
00199 <span class="comment"> * Revision 1.4  1998/05/14 16:04:34  kp</span>
00200 <span class="comment"> * OSS_VME_AM_Axx defs renamed to OSS_VME_Axx</span>
00201 <span class="comment"> * OSS_VME_Dxx defs added</span>
00202 <span class="comment"> * illegal OSS_VME_AM_A08 removed</span>
00203 <span class="comment"> *</span>
00204 <span class="comment"> * Revision 1.3  1998/04/22 15:21:41  see</span>
00205 <span class="comment"> * OSS_DBG_OFF def changed to DBG_OFF</span>
00206 <span class="comment"> *</span>
00207 <span class="comment"> * Revision 1.2  1998/04/17 15:40:56  see</span>
00208 <span class="comment"> * OSS_DbgMemdump prototype removed</span>
00209 <span class="comment"> * all DBG defs+macros are now in dbg.h</span>
00210 <span class="comment"> * include dbg.h for compatibility (if not NO_OLD_DBG)</span>
00211 <span class="comment"> * OSS_DbgLevelGet/Set prototypes changed</span>
00212 <span class="comment"> * OSS_Sprintf, OSS_Vsprintf prototypes added</span>
00213 <span class="comment"> *</span>
00214 <span class="comment"> * Revision 1.1  1998/02/23 10:12:06  franke</span>
00215 <span class="comment"> * initial</span>
00216 <span class="comment"> *</span>
00217 <span class="comment"> *---------------------------------------------------------------------------</span>
00218 <span class="comment"> * (c) Copyright 1997 by MEN Mikro Elektronik GmbH, Nuremberg, Germany</span>
00219 <span class="comment"> ****************************************************************************/</span>
00220 
00221 <span class="preprocessor">#ifndef _OSS_H_</span>
00222 <span class="preprocessor"></span><span class="preprocessor">#define _OSS_H_</span>
00223 <span class="preprocessor"></span>
00224 <span class="preprocessor">#ifndef MAC_USERSPACE</span>
00225 <span class="preprocessor"></span><span class="preprocessor">#   include &lt;MEN/oss_os.h&gt;</span>  <span class="comment">/* os specific types and header */</span>
00226 <span class="preprocessor">#else</span>
00227 <span class="preprocessor"></span><span class="preprocessor">#   include &lt;MEN/ossu_os.h&gt;</span>  <span class="comment">/* os specific types and header for user space */</span>
00228 <span class="preprocessor">#endif </span><span class="comment">/* MAC_USERSPACE */</span>
00229 
00230 
00231 <span class="preprocessor">#ifdef __cplusplus</span>
00232 <span class="preprocessor"></span>   <span class="keyword">extern</span> <span class="stringliteral">"C"</span> {
00233 <span class="preprocessor">#endif</span>
00234 <span class="preprocessor"></span>
00235 <span class="comment">/*-----------------------------------------+</span>
00236 <span class="comment">|  TYPEDEFS                                |</span>
00237 <span class="comment">+------------------------------------------*/</span>
00238 <span class="comment">/* for easy casting function pointers (callback) */</span>
00239 <span class="keyword">typedef</span> void (*OSS_FKT_VOIDP1)(<span class="keywordtype">void</span>*);
00240 <span class="keyword">typedef</span> void (*OSS_FKT_VOIDP2)(<span class="keywordtype">void</span>*, <span class="keywordtype">void</span>*);
00241 
00242 <span class="comment">/* for OSS_AssignResources */</span>
00243 <span class="keyword">typedef</span> <span class="keyword">struct </span>{
00244     int32   type;           <span class="comment">/* resource type */</span>
00245         <span class="keyword">union </span>{
00246             <span class="keyword">struct </span>{
00247                 <span class="keywordtype">void</span>    *physAddr;  <span class="comment">/* physical address */</span>
00248                 u_int32 size;       <span class="comment">/* size of address space */</span>
00249             }mem;
00250 
00251             <span class="keyword">struct </span>{
00252                 int32   level;      <span class="comment">/* interrupt level */</span>
00253                 int32   vector;     <span class="comment">/* interrupt vector */</span>
00254             }irq;
00255 
00256             int32   spare[32];      <span class="comment">/* size of union */</span>
00257         } u;
00258 } OSS_RESOURCES;
00259 
00260 <span class="keyword">typedef</span> <span class="keyword">struct </span>{                <span class="comment">/* OSS_CallbackSet: */</span>
00261     u_int32    callNr;          <span class="comment">/* callback function index (0..n) */</span>
00262     void       (*funct)(        <span class="comment">/* callback function pointer */</span>
00263                    <span class="keywordtype">void</span> *appArg,
00264                    <span class="keywordtype">void</span> *drvArg);
00265     <span class="keywordtype">void</span>       *appArg;         <span class="comment">/* function argument from application */</span>
00266 } OSS_CALLBACK_SET;
00267 
00268 <span class="comment">/*--- SHMEM block status ---*/</span>
00269 <span class="keyword">typedef</span> <span class="keyword">struct </span>{                <span class="comment">/* M_LL_BLK_SHMEM_SET: */</span>
00270     u_int32    smNr;            <span class="comment">/* IN:  shared memory area index (0..n) */</span>
00271     u_int32    size;            <span class="comment">/* IN:  shared memory size [bytes] */</span>
00272     <span class="keywordtype">void</span>       *drvAddr;        <span class="comment">/* OUT: shared memory address (driver) */</span>
00273 } OSS_SHMEM_SET;
00274 
00275 <span class="keyword">typedef</span> <span class="keyword">struct </span>{                <span class="comment">/* M_LL_BLK_SHMEM_LINK: */</span>
00276     u_int32    smNr;            <span class="comment">/* IN:  shared memory area index (0..n) */</span>
00277     u_int32    size;            <span class="comment">/* OUT: shared memory size [bytes] */</span>
00278     <span class="keywordtype">void</span>       *drvAddr;        <span class="comment">/* OUT: shared memory address (driver) */</span>
00279 } OSS_SHMEM_LINK;
00280 
00281 <span class="keyword">typedef</span> <span class="keyword">struct </span>{                <span class="comment">/* M_LL_BLK_SHMEM_CLEAR: */</span>
00282     u_int32    smNr;            <span class="comment">/* IN:  shared memory area index (0..n) */</span>
00283     u_int32    linkCnt;         <span class="comment">/* OUT: shared memory link counter */</span>
00284 } OSS_SHMEM_CLEAR;
00285 
00286 <span class="keyword">typedef</span> <span class="keyword">struct </span>OSS_DL_NODE {    <span class="comment">/* Double linked list node */</span>
00287     <span class="keyword">struct </span>OSS_DL_NODE *next;
00288     <span class="keyword">struct </span>OSS_DL_NODE *prev;
00289 } OSS_DL_NODE;
00290 
00291 <span class="keyword">typedef</span> <span class="keyword">struct </span>OSS_DL_LIST {    <span class="comment">/* Double linked list header */</span>
00292     OSS_DL_NODE *head;
00293     OSS_DL_NODE *tail;
00294     OSS_DL_NODE *tailpred;
00295 } OSS_DL_LIST;
00296 
00297 <span class="preprocessor">#ifdef MAC_USERSPACE</span>
00298 <span class="preprocessor"></span><span class="comment">/* VME interface */</span>
00300 <span class="keyword">typedef</span> <span class="keyword">enum</span> {
00301     OSS_VME_WinT_master = 0, 
00302     OSS_VME_WinT_slave = 1,  
00303 } OSS_VME_WINTYPE;
00304 
00306 <span class="keyword">typedef</span> <span class="keyword">struct </span>{
00307     OSS_DL_NODE     n;
00308     int32           fd;             
00309     OSS_VME_WINTYPE winType;        
00310     u_int64         vmeAddr;        
00311     u_int32         locAddr;        
00312     u_int32         size;           
00313     <span class="comment">/* master exclusive usage */</span>
00314     u_int32         addrMode;       
00315     u_int32         maxDataMode;    
00316     u_int32         flags;          
00317     u_int32         useNbr;         
00318     <span class="comment">/* slave exclusive usage */</span>
00319     u_int32         slvSpc;         
00320     u_int32         slvSpcSize;     
00321     u_int32         mapNbr;         
00322 } OSS_VME_ADDRWIN_NODE;
00323 
00324 <span class="preprocessor">#endif </span><span class="comment">/* MAC_USERSPACE */</span>
00325 
00326 <span class="comment">/*-----------------------------------------+</span>
00327 <span class="comment">|  DEFINES &amp; CONST                         |</span>
00328 <span class="comment">+------------------------------------------*/</span>
00329 <span class="comment">/* semaphores */</span>
00330 <span class="preprocessor">#define OSS_SEM_BIN    0</span>
00331 <span class="preprocessor"></span><span class="preprocessor">#define OSS_SEM_COUNT  1</span>
00332 <span class="preprocessor"></span><span class="preprocessor">#define OSS_SEM_NOWAIT 0</span>
00333 <span class="preprocessor"></span><span class="preprocessor">#define OSS_SEM_WAITFOREVER  -1</span>
00334 <span class="preprocessor"></span>
00335 <span class="comment">/* for mem permission check */</span>
00336 <span class="preprocessor">#define OSS_READ     0</span>
00337 <span class="preprocessor"></span><span class="preprocessor">#define OSS_WRITE    1</span>
00338 <span class="preprocessor"></span>
00339 <span class="comment">/* for OSS_AssignResources */</span>
00340 <span class="preprocessor">#define OSS_RES_MEM      1</span>
00341 <span class="preprocessor"></span><span class="preprocessor">#define OSS_RES_IRQ      2</span>
00342 <span class="preprocessor"></span><span class="preprocessor">#define OSS_RES_IO       3</span>
00343 <span class="preprocessor"></span>
00344 <span class="comment">/* for OSS_BusToPhysAddr and BBIS BrdInfo */</span>
00345 <span class="preprocessor">#define OSS_BUSTYPE_NONE        0   </span><span class="comment">/* device is local */</span>
00346 <span class="preprocessor">#define OSS_BUSTYPE_VME         1</span>
00347 <span class="preprocessor"></span><span class="preprocessor">#define OSS_BUSTYPE_PCI         2</span>
00348 <span class="preprocessor"></span><span class="preprocessor">#define OSS_BUSTYPE_ISA         3</span>
00349 <span class="preprocessor"></span><span class="preprocessor">#define OSS_BUSTYPE_ISAPNP      4</span>
00350 <span class="preprocessor"></span><span class="preprocessor">#define OSS_BUSTYPE_MMODULE     5</span>
00351 <span class="preprocessor"></span><span class="preprocessor">#define OSS_BUSTYPE_SMB         6</span>
00352 <span class="preprocessor"></span><span class="preprocessor">#define OSS_BUSTYPE_CHAM        7</span>
00353 <span class="preprocessor"></span><span class="preprocessor">#define OSS_BUSTYPE_UNKNOWN   255</span>
00354 <span class="preprocessor"></span>
00355 <span class="comment">/* for OSS_MapPhysToVirtAddr */</span>
00356 <span class="preprocessor">#define OSS_ADDRSPACE_MEM         0</span>
00357 <span class="preprocessor"></span><span class="preprocessor">#define OSS_ADDRSPACE_IO          1</span>
00358 <span class="preprocessor"></span><span class="preprocessor">#define OSS_ADDRSPACE_PCICFG      2</span>
00359 <span class="preprocessor"></span>
00360 <span class="comment">/* VMEbus addr range */</span>
00361 <span class="preprocessor">#define OSS_VME_AXX          0x00ff </span><span class="comment">/* (mask) */</span>
00362 <span class="preprocessor">#define OSS_VME_A16          0x0001 </span><span class="comment">/* short i/o */</span>
00363 <span class="preprocessor">#define OSS_VME_A24          0x0002 </span><span class="comment">/* standard i/o */</span>
00364 <span class="preprocessor">#define OSS_VME_A32          0x0003 </span><span class="comment">/* extended i/o */</span>
00365 
00366 <span class="comment">/* VMEbus data width */</span>
00367 <span class="preprocessor">#define OSS_VME_DXX          0xff00 </span><span class="comment">/* (mask) */</span>
00368 <span class="preprocessor">#define OSS_VME_D16          0x0100</span>
00369 <span class="preprocessor"></span><span class="preprocessor">#define OSS_VME_D24          0x0200</span>
00370 <span class="preprocessor"></span><span class="preprocessor">#define OSS_VME_D32          0x0300</span>
00371 <span class="preprocessor"></span>
00372 <span class="comment">/* OSS_MapVmeAddr - Data Modes */</span>
<a name="l00373"></a><a class="code" href="oss_8h.html#a29">00373</a> <span class="preprocessor">#define OSS_VME_DM_8        0x01    </span>
<a name="l00374"></a><a class="code" href="oss_8h.html#a30">00374</a> <span class="preprocessor">#define OSS_VME_DM_16       0x02    </span>
<a name="l00375"></a><a class="code" href="oss_8h.html#a31">00375</a> <span class="preprocessor">#define OSS_VME_DM_32       0x04    </span>
<a name="l00376"></a><a class="code" href="oss_8h.html#a32">00376</a> <span class="preprocessor">#define OSS_VME_DM_64       0x08    </span>
00378 <span class="preprocessor"></span><span class="comment">/* OSS_MapVmeAddr - Address Modes (VMEbus address modifiers) */</span>
00379 <span class="comment">/* VME_AM_&lt;16:short/24:std/32:ext/64:long&gt;&lt;U:user/S:superv&gt;&lt;D:data/P:prgr/B:BLT/B64:D64-MBLT&gt; */</span>
<a name="l00380"></a><a class="code" href="oss_8h.html#a33">00380</a> <span class="preprocessor">#define OSS_VME_AM_16UD     0x29    </span>
<a name="l00381"></a><a class="code" href="oss_8h.html#a34">00381</a> <span class="preprocessor">#define OSS_VME_AM_24UD     0x39    </span>
<a name="l00382"></a><a class="code" href="oss_8h.html#a35">00382</a> <span class="preprocessor">#define OSS_VME_AM_24UB     0x3B    </span>
<a name="l00383"></a><a class="code" href="oss_8h.html#a36">00383</a> <span class="preprocessor">#define OSS_VME_AM_32UD     0x09    </span>
<a name="l00384"></a><a class="code" href="oss_8h.html#a37">00384</a> <span class="preprocessor">#define OSS_VME_AM_32UB     0x0B    </span>
<a name="l00385"></a><a class="code" href="oss_8h.html#a38">00385</a> <span class="preprocessor">#define OSS_VME_AM_32UB64   0x08    </span>
00387 <span class="preprocessor"></span><span class="comment">/* for OSS_PciGetConfig */</span>
00388 <span class="preprocessor">#define OSS_PCI_INVALID              0</span>
00389 <span class="preprocessor"></span><span class="preprocessor">#define OSS_PCI_VENDOR_ID            1</span>
00390 <span class="preprocessor"></span><span class="preprocessor">#define OSS_PCI_DEVICE_ID            2</span>
00391 <span class="preprocessor"></span><span class="preprocessor">#define OSS_PCI_COMMAND              3</span>
00392 <span class="preprocessor"></span><span class="preprocessor">#define OSS_PCI_STATUS               4</span>
00393 <span class="preprocessor"></span><span class="preprocessor">#define OSS_PCI_REVISION_ID          5</span>
00394 <span class="preprocessor"></span><span class="preprocessor">#define OSS_PCI_CLASS                6</span>
00395 <span class="preprocessor"></span><span class="preprocessor">#define OSS_PCI_SUB_CLASS            7</span>
00396 <span class="preprocessor"></span><span class="preprocessor">#define OSS_PCI_PROG_IF              8</span>
00397 <span class="preprocessor"></span><span class="preprocessor">#define OSS_PCI_CACHE_LINE_SIZE      9</span>
00398 <span class="preprocessor"></span><span class="preprocessor">#define OSS_PCI_PCI_LATENCY_TIMER   10</span>
00399 <span class="preprocessor"></span><span class="preprocessor">#define OSS_PCI_HEADER_TYPE         11     </span><span class="comment">/* 0=device; 1=bridge */</span>
00400 <span class="preprocessor">#define OSS_PCI_BIST                12</span>
00401 <span class="preprocessor"></span><span class="preprocessor">#define OSS_PCI_ADDR_0              13</span>
00402 <span class="preprocessor"></span><span class="preprocessor">#define OSS_PCI_ADDR_1              14</span>
00403 <span class="preprocessor"></span><span class="preprocessor">#define OSS_PCI_ADDR_2              15</span>
00404 <span class="preprocessor"></span><span class="preprocessor">#define OSS_PCI_ADDR_3              16</span>
00405 <span class="preprocessor"></span><span class="preprocessor">#define OSS_PCI_ADDR_4              17</span>
00406 <span class="preprocessor"></span><span class="preprocessor">#define OSS_PCI_ADDR_5              18</span>
00407 <span class="preprocessor"></span><span class="preprocessor">#define OSS_PCI_CIS                 19</span>
00408 <span class="preprocessor"></span><span class="preprocessor">#define OSS_PCI_SUBSYS_VENDOR_ID    20</span>
00409 <span class="preprocessor"></span><span class="preprocessor">#define OSS_PCI_SUBSYS_ID           21</span>
00410 <span class="preprocessor"></span><span class="preprocessor">#define OSS_PCI_EXPROM_ADDR         22</span>
00411 <span class="preprocessor"></span><span class="preprocessor">#define OSS_PCI_INTERRUPT_PIN       23</span>
00412 <span class="preprocessor"></span><span class="preprocessor">#define OSS_PCI_INTERRUPT_LINE      24</span>
00413 <span class="preprocessor"></span><span class="preprocessor">#define OSS_PCI_ACCESS_8            0x01000000</span>
00414 <span class="preprocessor"></span><span class="preprocessor">#define OSS_PCI_ACCESS_16           0x02000000</span>
00415 <span class="preprocessor"></span><span class="preprocessor">#define OSS_PCI_ACCESS_32           0x04000000</span>
00416 <span class="preprocessor"></span><span class="preprocessor">#define OSS_PCI_ACCESS              0x07000000</span>
00417 <span class="preprocessor"></span>
00418 <span class="comment">/* Bit encodings for  PCI_COMMON_CONFIG.HeaderType */</span>
00419 <span class="preprocessor">#define OSS_PCI_HEADERTYPE_MULTIFUNCTION    0x80</span>
00420 <span class="preprocessor"></span><span class="preprocessor">#define OSS_PCI_HEADERTYPE_DEVICE_TYPE      0x00</span>
00421 <span class="preprocessor"></span><span class="preprocessor">#define OSS_PCI_HEADERTYPE_BRIDGE_TYPE      0x01</span>
00422 <span class="preprocessor"></span>
00423 <span class="comment">/* Bit encodings for PCI_COMMON_CONFIG.Command */</span>
00424 <span class="preprocessor">#define OSS_PCI_COMMAND_ENABLE_IO_SPACE                 0x0001</span>
00425 <span class="preprocessor"></span><span class="preprocessor">#define OSS_PCI_COMMAND_ENABLE_MEM_SPACE                0x0002</span>
00426 <span class="preprocessor"></span><span class="preprocessor">#define OSS_PCI_COMMAND_ENABLE_BUS_MASTER               0x0004</span>
00427 <span class="preprocessor"></span><span class="preprocessor">#define OSS_PCI_COMMAND_ENABLE_SPECIAL_CYCLES           0x0008</span>
00428 <span class="preprocessor"></span><span class="preprocessor">#define OSS_PCI_COMMAND_ENABLE_WRITE_AND_INVALIDATE     0x0010</span>
00429 <span class="preprocessor"></span><span class="preprocessor">#define OSS_PCI_COMMAND_ENABLE_VGA_COMPATIBLE_PALETTE   0x0020</span>
00430 <span class="preprocessor"></span><span class="preprocessor">#define OSS_PCI_COMMAND_ENABLE_PARITY                   0x0040  </span><span class="comment">/* (ro+) */</span>
00431 <span class="preprocessor">#define OSS_PCI_COMMAND_ENABLE_WAIT_CYCLE               0x0080  </span><span class="comment">/* (ro+) */</span>
00432 <span class="preprocessor">#define OSS_PCI_COMMAND_ENABLE_SERR                     0x0100  </span><span class="comment">/* (ro+) */</span>
00433 <span class="preprocessor">#define OSS_PCI_COMMAND_ENABLE_FAST_BACK_TO_BACK        0x0200  </span><span class="comment">/* (ro)  */</span>
00434 
00435 <span class="comment">/* Bit encodings for PCI_COMMON_CONFIG.Status */</span>
00436 <span class="preprocessor">#define OSS_PCI_STATUS_FAST_BACK_TO_BACK        0x0080  </span><span class="comment">/* (ro) */</span>
00437 <span class="preprocessor">#define OSS_PCI_STATUS_DATA_PARITY_DETECTED     0x0100</span>
00438 <span class="preprocessor"></span><span class="preprocessor">#define OSS_PCI_STATUS_DEVSEL                   0x0600  </span><span class="comment">/* 2 bits wide */</span>
00439 <span class="preprocessor">#define OSS_PCI_STATUS_SIGNALED_TARGET_ABORT    0x0800</span>
00440 <span class="preprocessor"></span><span class="preprocessor">#define OSS_PCI_STATUS_RECEIVED_TARGET_ABORT    0x1000</span>
00441 <span class="preprocessor"></span><span class="preprocessor">#define OSS_PCI_STATUS_RECEIVED_MASTER_ABORT    0x2000</span>
00442 <span class="preprocessor"></span><span class="preprocessor">#define OSS_PCI_STATUS_SIGNALED_SYSTEM_ERROR    0x4000</span>
00443 <span class="preprocessor"></span><span class="preprocessor">#define OSS_PCI_STATUS_DETECTED_PARITY_ERROR    0x8000</span>
00444 <span class="preprocessor"></span>
00445 <span class="comment">/* Bit encodings for PCI_COMMON_CONFIG.Status.Devsel bits */</span>
00446 <span class="preprocessor">#define PCI_STATUS_DEVSEL_SPEED_FAST               0x0000</span>
00447 <span class="preprocessor"></span><span class="preprocessor">#define PCI_STATUS_DEVSEL_SPEED_MEDIUM             0x0200</span>
00448 <span class="preprocessor"></span><span class="preprocessor">#define PCI_STATUS_DEVSEL_SPEED_SLOW               0x0400</span>
00449 <span class="preprocessor"></span>
00450 <span class="comment">/* for OSS_IsaGetConfig */</span>
00451 <span class="preprocessor">#define OSS_ISA_MEM_ADDR            0x10</span>
00452 <span class="preprocessor"></span><span class="preprocessor">#define OSS_ISA_IO_ADDR             0x20</span>
00453 <span class="preprocessor"></span><span class="preprocessor">#define OSS_ISA_IRQ_LEVEL           0x30</span>
00454 <span class="preprocessor"></span>
00455 <span class="comment">/* swap macros */</span>
00456 <span class="preprocessor">#define OSS_SWAP16(word)    ( (((word)&gt;&gt;8) &amp; 0xff) | (((word)&lt;&lt;8)&amp;0xff00) )</span>
00457 <span class="preprocessor"></span>
00458 <span class="preprocessor">#define OSS_SWAP32(dword)   ( (((dword)&gt;&gt;24)&amp; 0x000000ff)   | \</span>
00459 <span class="preprocessor">                              (((dword)&lt;&lt;24)&amp; 0xff000000)   | \</span>
00460 <span class="preprocessor">                              (((dword)&gt;&gt;8) &amp; 0x0000ff00)   | \</span>
00461 <span class="preprocessor">                              (((dword)&lt;&lt;8) &amp; 0x00ff0000)     )</span>
00462 <span class="preprocessor"></span>
00463 <span class="preprocessor">#define OSS_SWAP64(qword)  (  ((qword&gt;&gt;56) &amp; 0x00000000000000ffLL) | \</span>
00464 <span class="preprocessor">                              ((qword&lt;&lt;56) &amp; 0xff00000000000000LL) | \</span>
00465 <span class="preprocessor">                              ((qword&gt;&gt;40) &amp; 0x000000000000ff00LL) | \</span>
00466 <span class="preprocessor">                              ((qword&lt;&lt;40) &amp; 0x00ff000000000000LL) | \</span>
00467 <span class="preprocessor">                              ((qword&gt;&gt;24) &amp; 0x0000000000ff0000LL) | \</span>
00468 <span class="preprocessor">                              ((qword&lt;&lt;24) &amp; 0x0000ff0000000000LL) | \</span>
00469 <span class="preprocessor">                              ((qword&gt;&gt;8)  &amp; 0x00000000ff000000LL) | \</span>
00470 <span class="preprocessor">                              ((qword&lt;&lt;8)  &amp; 0x000000ff00000000LL)   )</span>
00471 <span class="preprocessor"></span>
00472 <span class="comment">/* merge the pci domain number into the pci bus number */</span>
00473 <span class="preprocessor">#define OSS_MERGE_BUS_DOMAIN(bus, domain) \</span>
00474 <span class="preprocessor">        (( bus &amp; 0xff ) | ( ( domain &amp; 0xff ) &lt;&lt; 16 ))</span>
00475 <span class="preprocessor"></span>    
00476 <span class="preprocessor">#define OSS_BUS_NBR( merged_bus )       ( merged_bus &amp; 0xff )</span>
00477 <span class="preprocessor"></span><span class="preprocessor">#define OSS_DOMAIN_NBR( merged_bus )    ( ( merged_bus &gt;&gt; 16 ) &amp; 0xff )                           </span>
00478 <span class="preprocessor"></span>
00479 
00480 <span class="comment">/*-----------------------------------------+</span>
00481 <span class="comment">|  PROTOTYPES                              |</span>
00482 <span class="comment">+------------------------------------------*/</span>
00483 <span class="keyword">extern</span> <span class="keywordtype">char</span>* <a class="code" href="oss__ident_8c.html#a1">OSS_Ident</a>( <span class="keywordtype">void</span> );
00484 
00485 <span class="keyword">extern</span> <span class="keywordtype">void</span> *<a class="code" href="oss__specification_8c.html#a6">OSS_MemGet</a>(
00486     OSS_HANDLE *osHdl,
00487     u_int32    size,
00488     u_int32    *gotsizeP);
00489 
00490 <span class="keyword">extern</span> int32 <a class="code" href="oss__specification_8c.html#a7">OSS_MemFree</a>(
00491     OSS_HANDLE *osHdl,
00492     <span class="keywordtype">void</span>       *addr,
00493     u_int32    size);
00494 
00495 <span class="keyword">extern</span> int32 <a class="code" href="oss__specification_8c.html#a8">OSS_MemChk</a>(
00496     OSS_HANDLE *osHdl,
00497     <span class="keywordtype">void</span>       *addr,
00498     u_int32    size,
00499     int32      mode);
00500 
00501 <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="oss__specification_8c.html#a56">OSS_MemCopy</a>(
00502    OSS_HANDLE    *osHdl,
00503    u_int32       size,
00504    <span class="keywordtype">char</span>          *src,
00505    <span class="keywordtype">char</span>          *dest);
00506 
00507 <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="oss__specification_8c.html#a57">OSS_MemFill</a>(
00508     OSS_HANDLE *osHdl,
00509     u_int32    size,
00510     <span class="keywordtype">char</span>       *adr,
00511     int8       value);
00512 
00513 <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="oss__specification_8c.html#a58">OSS_StrCpy</a>(
00514     OSS_HANDLE  *oss,
00515     <span class="keywordtype">char</span>        *from,
00516     <span class="keywordtype">char</span>        *to);
00517 
00518 <span class="keyword">extern</span> u_int32 <a class="code" href="oss__specification_8c.html#a59">OSS_StrLen</a>(
00519     OSS_HANDLE *osHdl,
00520     <span class="keywordtype">char</span> *string);
00521 
00522 <span class="keyword">extern</span> int32 <a class="code" href="oss__specification_8c.html#a60">OSS_StrCmp</a>(
00523     OSS_HANDLE *osHdl,
00524     <span class="keywordtype">char</span> *str1,
00525     <span class="keywordtype">char</span> *str2);
00526 
00527 <span class="keyword">extern</span> int32 <a class="code" href="oss__specification_8c.html#a61">OSS_StrNcmp</a>(
00528     OSS_HANDLE *osHdl,
00529     <span class="keywordtype">char</span>    *str1,
00530     <span class="keywordtype">char</span>    *str2,
00531     u_int32 nbrOfBytes);
00532 
00533 <span class="keyword">extern</span> <span class="keywordtype">char</span>* <a class="code" href="oss__specification_8c.html#a62">OSS_StrTok</a>(
00534     OSS_HANDLE *osHdl,
00535     <span class="keywordtype">char</span> *string,
00536     <span class="keywordtype">char</span> *separator,
00537     <span class="keywordtype">char</span> **lastP);
00538 
00539 <span class="preprocessor">#ifndef MAC_USERSPACE</span>
00540 <span class="preprocessor"></span>
00541 <span class="preprocessor">#ifdef OSS_HAS_IRQMASKR</span>
00542 <span class="preprocessor"></span><span class="keyword">extern</span> OSS_IRQ_STATE <a class="code" href="oss__specification_8c.html#a19">OSS_IrqMaskR</a>(
00543     OSS_HANDLE *oss,
00544     OSS_IRQ_HANDLE* irqHandle );
00545 
00546 <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="oss__specification_8c.html#a20">OSS_IrqRestore</a>(
00547     OSS_HANDLE *oss,
00548     OSS_IRQ_HANDLE* irqHandle,
00549     OSS_IRQ_STATE oldState );
00550 <span class="preprocessor">#endif </span><span class="comment">/* OSS_HAS_IRQMASKR */</span>
00551 
00552 <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="oss__specification_8c.html#a21">OSS_IrqMask</a>(
00553     OSS_HANDLE *osHdl,
00554     OSS_IRQ_HANDLE* irqHandle);
00555 
00556 <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="oss__specification_8c.html#a22">OSS_IrqUnMask</a>(
00557     OSS_HANDLE *osHdl,
00558     OSS_IRQ_HANDLE *irqHandle);
00559 
00560 <span class="keyword">extern</span> int32 <a class="code" href="oss__specification_8c.html#a23">OSS_IrqLevelToVector</a>(
00561     OSS_HANDLE *osHdl,
00562     int32      busType,
00563     int32      level,
00564     int32      *vector);
00565 
00566 <span class="keyword">extern</span> int32 <a class="code" href="oss__specification_8c.html#a24">OSS_SpinLockCreate</a>(
00567     OSS_HANDLE          *oss,
00568     OSS_SPINL_HANDLE    **spinlP );
00569 
00570 <span class="keyword">extern</span> int32 <a class="code" href="oss__specification_8c.html#a25">OSS_SpinLockRemove</a>(
00571     OSS_HANDLE          *oss,
00572     OSS_SPINL_HANDLE    **spinlP );
00573 
00574 <span class="keyword">extern</span> int32 <a class="code" href="oss__specification_8c.html#a26">OSS_SpinLockAcquire</a>(
00575     OSS_HANDLE          *oss,
00576     OSS_SPINL_HANDLE    *spinl );
00577 
00578 <span class="keyword">extern</span> int32 <a class="code" href="oss__specification_8c.html#a27">OSS_SpinLockRelease</a>(
00579     OSS_HANDLE          *oss,
00580     OSS_SPINL_HANDLE    *spinl );
00581 
00582 <span class="keyword">extern</span> int32 <a class="code" href="oss__specification_8c.html#a32">OSS_SigCreate</a>(
00583     OSS_HANDLE*       osHdl,
00584     int32            value,
00585     OSS_SIG_HANDLE** sigHandleP);
00586 
00587 <span class="keyword">extern</span> int32 <a class="code" href="oss__specification_8c.html#a34">OSS_SigSend</a>(
00588     OSS_HANDLE *osHdl,
00589     OSS_SIG_HANDLE* sigHandle);
00590 
00591 <span class="keyword">extern</span> int32 <a class="code" href="oss__specification_8c.html#a33">OSS_SigRemove</a>(
00592     OSS_HANDLE *osHdl,
00593     OSS_SIG_HANDLE** sigHandleP);
00594 
00595 <span class="keyword">extern</span> int32 <a class="code" href="oss__specification_8c.html#a35">OSS_SigInfo</a>(
00596     OSS_HANDLE     *osHdl,
00597     OSS_SIG_HANDLE *sigHdl,
00598     int32          *signalNbrP,
00599     int32          *processIdP);
00600 
00601 <span class="preprocessor">#endif </span><span class="comment">/* MAC_USERSPACE */</span>
00602 
00603 <span class="keyword">extern</span> int32 <a class="code" href="oss__specification_8c.html#a28">OSS_SemCreate</a>(
00604     OSS_HANDLE *osHdl,
00605     int32          semType,
00606     int32          initVal,
00607     OSS_SEM_HANDLE** semHandleP);
00608 
00609 <span class="keyword">extern</span> int32 <a class="code" href="oss__specification_8c.html#a29">OSS_SemRemove</a>(
00610     OSS_HANDLE *osHdl,
00611     OSS_SEM_HANDLE** semHandleP);
00612 
00613 <span class="keyword">extern</span> int32 <a class="code" href="oss__specification_8c.html#a30">OSS_SemWait</a>(
00614     OSS_HANDLE *osHdl,
00615     OSS_SEM_HANDLE*   semHandle,
00616     int32           msec);
00617 
00618 <span class="keyword">extern</span> int32 <a class="code" href="oss__specification_8c.html#a31">OSS_SemSignal</a>(
00619     OSS_HANDLE *osHdl,
00620     OSS_SEM_HANDLE* semHandle);
00621 
00622 <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="oss__specification_8c.html#a4">OSS_DbgLevelSet</a>(
00623     OSS_HANDLE *osHdl,
00624     u_int32 newLevel);
00625 
00626 <span class="keyword">extern</span> u_int32 <a class="code" href="oss__specification_8c.html#a5">OSS_DbgLevelGet</a>(
00627     OSS_HANDLE *osHdl);
00628 
00629 <span class="keyword">extern</span> int32 <a class="code" href="oss__specification_8c.html#a36">OSS_Delay</a>(
00630     OSS_HANDLE *osHdl,
00631     int32      msec);
00632 
00633 <span class="keyword">extern</span> int32 <a class="code" href="oss__specification_8c.html#a40">OSS_TickRateGet</a>(
00634     OSS_HANDLE *osHdl);
00635 
00636 <span class="keyword">extern</span> u_int32 <a class="code" href="oss__specification_8c.html#a39">OSS_TickGet</a>(
00637     OSS_HANDLE *osHdl);
00638 
00639 <span class="keyword">extern</span> u_int32 <a class="code" href="oss__specification_8c.html#a55">OSS_GetPid</a>(
00640     OSS_HANDLE *osHdl);
00641 
00642 <span class="keyword">extern</span> int32 <a class="code" href="oss__specification_8c.html#a37">OSS_MikroDelayInit</a>(
00643     OSS_HANDLE *osHdl);
00644 
00645 <span class="keyword">extern</span> int32 <a class="code" href="oss__specification_8c.html#a38">OSS_MikroDelay</a>(
00646     OSS_HANDLE *osHdl,
00647     u_int32 mikroSec);
00648 
00649 <span class="keyword">extern</span> int32 <a class="code" href="oss__specification_8c.html#a43">OSS_BusToPhysAddr</a>(
00650     OSS_HANDLE *osHdl,
00651     int32       busType,
00652     <span class="keywordtype">void</span>       **physicalAddrP,
00653     ...);
00654 
00655 <span class="preprocessor">#ifdef OSS_HAS_MAP_VME_ADDR</span>
00656 <span class="preprocessor"></span><span class="keyword">extern</span> int32 <a class="code" href="oss__specification_8c.html#a44">OSS_MapVmeAddr</a>(
00657     OSS_HANDLE  *osHdl,
00658     u_int64     vmeBusAddr,
00659     u_int32     addrMode,
00660     u_int32     maxDataMode,
00661     u_int32     size,
00662     u_int32     flags,
00663     <span class="keywordtype">void</span>        **locAddrP,
00664     <span class="keywordtype">void</span>        **addrWinHdlP);
00665 <span class="keyword">extern</span> int32 <a class="code" href="oss__specification_8c.html#a45">OSS_UnMapVmeAddr</a>(
00666     OSS_HANDLE  *osHdl,
00667     <span class="keywordtype">void</span>        *addrWinHdl );
00668 <span class="preprocessor">#endif </span><span class="comment">/* OSS_HAS_MAP_VME_ADDR */</span>
00669 
00670 <span class="keyword">extern</span> int32 <a class="code" href="oss__specification_8c.html#a46">OSS_PciGetConfig</a>(
00671     OSS_HANDLE *osHdl,
00672     int32       busNbr,
00673     int32       pciDevNbr,
00674     int32       pciFunction,
00675     int32       which,
00676     int32      *valueP);
00677 
00678 <span class="keyword">extern</span> int32 <a class="code" href="oss__specification_8c.html#a47">OSS_PciSetConfig</a>(
00679     OSS_HANDLE *osHdl,
00680     int32       busNbr,
00681     int32       pciDevNbr,
00682     int32       pciFunction,
00683     int32       which,
00684     int32       value);
00685 
00686 <span class="preprocessor">#ifndef MAC_USERSPACE</span>
00687 <span class="preprocessor"></span>
00688 <span class="keyword">extern</span> int32 <a class="code" href="oss__specification_8c.html#a48">OSS_PciSlotToPciDevice</a>(
00689     OSS_HANDLE *osHdl,
00690     int32      busNbr,
00691     int32      mechSlot,
00692     int32      *pciDevNbrP);
00693 
00694 <span class="keyword">extern</span> int32 <a class="code" href="oss__specification_8c.html#a49">OSS_IsaGetConfig</a>(
00695     OSS_HANDLE  *osHdl,
00696     int8        *cardVendId,
00697     int16       cardProdId,
00698     int8        *devVendId,
00699     int16       devProdId,
00700     int32       devNbr,
00701     int32       resType,
00702     int32       resNbr,
00703     u_int32     *valueP);
00704 
00705 <span class="preprocessor">#endif </span><span class="comment">/* MAC_USERSPACE */</span>
00706 
00707 <span class="keyword">extern</span> int32 <a class="code" href="oss__specification_8c.html#a50">OSS_AssignResources</a>(
00708     OSS_HANDLE      *osHdl,
00709     int32           busType,
00710     int32           busNbr,
00711     int32           resNbr,
00712     OSS_RESOURCES   res[]);
00713 
00714 <span class="preprocessor">#ifdef OSS_HAS_UNASSIGN_RESOURCES</span>
00715 <span class="preprocessor"></span><span class="keyword">extern</span> int32 <a class="code" href="oss__specification_8c.html#a51">OSS_UnAssignResources</a>(
00716     OSS_HANDLE      *osHdl,
00717     int32           busType,
00718     int32           busNbr,
00719     int32           resNbr,
00720     OSS_RESOURCES   res[]);
00721 <span class="preprocessor">#endif</span>
00722 <span class="preprocessor"></span>
00723 <span class="keyword">extern</span> int32 <a class="code" href="oss__specification_8c.html#a41">OSS_MapPhysToVirtAddr</a>(
00724     OSS_HANDLE *osHdl,
00725     <span class="keywordtype">void</span>       *physAddr,
00726     u_int32    size,
00727     int32      addrSpace,
00728     int32      busType,
00729     int32      busNbr,
00730     <span class="keywordtype">void</span>       **virtAddrP);
00731 
00732 <span class="keyword">extern</span> int32 <a class="code" href="oss__specification_8c.html#a42">OSS_UnMapVirtAddr</a>(
00733     OSS_HANDLE *osHdl,
00734     <span class="keywordtype">void</span>       **virtAddrP,
00735     u_int32    size,
00736     int32      addrSpace);
00737 
00738 <span class="keyword">extern</span> int32 <a class="code" href="oss__specification_8c.html#a63">OSS_Sprintf</a>(
00739     OSS_HANDLE  *oss,
00740     <span class="keywordtype">char</span> *str,
00741     <span class="keyword">const</span> <span class="keywordtype">char</span> *fmt,
00742     ...);
00743 
00744 <span class="keyword">extern</span> int32 <a class="code" href="oss__specification_8c.html#a64">OSS_Vsprintf</a>(
00745     OSS_HANDLE  *oss,
00746     <span class="keywordtype">char</span> *str,
00747     <span class="keyword">const</span> <span class="keywordtype">char</span> *fmt,
00748     va_list arg);
00749 
00750 <span class="preprocessor">#ifndef MAC_USERSPACE</span>
00751 <span class="preprocessor"></span>
00752 <span class="comment">/* alarm prototypes */</span>
00753 <span class="keyword">extern</span> int32 <a class="code" href="oss__specification_8c.html#a9">OSS_AlarmCreate</a>(
00754     OSS_HANDLE       *oss,
00755     <span class="keywordtype">void</span>             (*funct)(<span class="keywordtype">void</span> *arg),
00756     <span class="keywordtype">void</span>             *arg,
00757     OSS_ALARM_HANDLE **alarmP);
00758 
00759 <span class="keyword">extern</span> int32 <a class="code" href="oss__specification_8c.html#a10">OSS_AlarmRemove</a>(
00760     OSS_HANDLE       *oss,
00761     OSS_ALARM_HANDLE **alarmP);
00762 
00763 <span class="keyword">extern</span> int32 <a class="code" href="oss__specification_8c.html#a11">OSS_AlarmSet</a>(
00764     OSS_HANDLE       *oss,
00765     OSS_ALARM_HANDLE *alarm,
00766     u_int32          msec,
00767     u_int32          cyclic,
00768     u_int32          *realMsec);
00769 
00770 <span class="keyword">extern</span> int32 <a class="code" href="oss__specification_8c.html#a12">OSS_AlarmClear</a>(
00771     OSS_HANDLE       *oss,
00772     OSS_ALARM_HANDLE *alarm);
00773 
00774 <span class="preprocessor">#ifdef OSS_HAS_ALARMMASK</span>
00775 <span class="preprocessor"></span>OSS_ALARM_STATE <a class="code" href="oss__specification_8c.html#a13">OSS_AlarmMask</a>( OSS_HANDLE *oss );
00776 <span class="keywordtype">void</span> <a class="code" href="oss__specification_8c.html#a14">OSS_AlarmRestore</a>( OSS_HANDLE *oss, OSS_ALARM_STATE oldState );
00777 <span class="preprocessor">#endif </span><span class="comment">/* OSS_HAS_ALARMMASK */</span>
00778 
00779 <span class="preprocessor">#endif </span><span class="comment">/* MAC_USERSPACE */</span>
00780 
00781 <span class="comment">/* callback prototypes */</span>
00782 <span class="preprocessor">#ifndef NO_CALLBACK</span>
00783 <span class="preprocessor"></span><span class="keyword">extern</span> int32 OSS_CallbackCreate(
00784     OSS_HANDLE           *oss,
00785     u_int32              maxQueue,
00786     OSS_CALLBACK_HANDLE  **cbHdlP);
00787 
00788 <span class="keyword">extern</span> int32 OSS_CallbackRemove(
00789     OSS_HANDLE          *oss,
00790     OSS_CALLBACK_HANDLE **cbHdlP);
00791 
00792 <span class="keyword">extern</span> int32 OSS_CallbackExec(
00793     OSS_HANDLE          *oss,
00794     OSS_CALLBACK_HANDLE *cbHdl,
00795     u_int32             callNr,
00796     <span class="keywordtype">void</span>                *drvArg);
00797 
00798 <span class="keyword">extern</span> int32 OSS_CallbackExec2(
00799     OSS_HANDLE          *oss,
00800     OSS_CALLBACK_HANDLE *cbHdl,
00801     u_int32             callNr,
00802     <span class="keywordtype">void</span>                *appArg,
00803     <span class="keywordtype">void</span>                *drvArg);
00804 
00805 <span class="keyword">extern</span> int32 OSS_CallbackSetStat(
00806     OSS_HANDLE          *oss,
00807     OSS_CALLBACK_HANDLE *cbHdl,
00808     OSS_CALLBACK_SETSTAT *arg);
00809 
00810 <span class="keyword">extern</span> int32 OSS_CallbackGetStat(
00811     OSS_HANDLE          *oss,
00812     OSS_CALLBACK_HANDLE *cbHdl,
00813     OSS_CALLBACK_GETSTAT *arg);
00814 
00815 <span class="keyword">extern</span> int32 OSS_CallbackSet(
00816     OSS_HANDLE          *oss,
00817     OSS_CALLBACK_HANDLE *cbHdl,
00818     OSS_CALLBACK_SET    *cbSet);
00819 
00820 <span class="keyword">extern</span> int32 OSS_CallbackClear(
00821     OSS_HANDLE          *oss,
00822     OSS_CALLBACK_HANDLE *cbHdl,
00823     u_int32             callNr);
00824 <span class="preprocessor">#endif</span>
00825 <span class="preprocessor"></span>
00826 <span class="comment">/* shared memory prototypes */</span>
00827 <span class="preprocessor">#ifndef NO_SHARED_MEM</span>
00828 <span class="preprocessor"></span><span class="keyword">extern</span> int32 OSS_SharedMemCreate(
00829     OSS_HANDLE       *oss,
00830     OSS_SHMEM_HANDLE **smHdlP);
00831 
00832 <span class="keyword">extern</span> int32 OSS_SharedMemRemove(
00833     OSS_HANDLE       *oss,
00834     OSS_SHMEM_HANDLE **smHdlP);
00835 
00836 <span class="keyword">extern</span> int32 OSS_SharedMemCheckNr(
00837     OSS_HANDLE       *oss,
00838     OSS_SHMEM_HANDLE *smHdl,
00839     OSS_SHMEM_SET    *smSet,
00840     u_int32          minNr,
00841     u_int32          maxNr,
00842     u_int32          *smNr);
00843 
00844 <span class="keyword">extern</span> int32 OSS_SharedMemCheckSize(
00845     OSS_HANDLE       *oss,
00846     OSS_SHMEM_HANDLE *smHdl,
00847     OSS_SHMEM_SET    *smSet,
00848     u_int32          minSize,
00849     u_int32          maxSize,
00850     u_int32          *smSize);
00851 
00852 <span class="keyword">extern</span> int32 OSS_SharedMemSet(
00853     OSS_HANDLE       *oss,
00854     OSS_SHMEM_HANDLE *smHdl,
00855     OSS_SHMEM_SET    *smSet);
00856 
00857 <span class="keyword">extern</span> int32 OSS_SharedMemLink(
00858     OSS_HANDLE       *oss,
00859     OSS_SHMEM_HANDLE *smHdl,
00860     OSS_SHMEM_SET    *smLink);
00861 
00862 <span class="keyword">extern</span> int32 OSS_SharedMemClear(
00863     OSS_HANDLE       *oss,
00864     OSS_SHMEM_HANDLE *smHdl,
00865     OSS_SHMEM_CLEAR  *smClear);
00866 <span class="preprocessor">#endif</span>
00867 <span class="preprocessor"></span>
00868 <span class="comment">/* SMBus specific OSS function prototypes */</span>
00869 <span class="keyword">extern</span> int32 <a class="code" href="oss__specification_8c.html#a65">OSS_GetSmbHdl</a>(
00870     OSS_HANDLE  *oss,
00871     u_int32     busNbr,
00872     <span class="keywordtype">void</span>        **smbHdlP);
00873 
00874 <span class="keyword">extern</span> int32 <a class="code" href="oss__specification_8c.html#a66">OSS_SetSmbHdl</a>(
00875     OSS_HANDLE  *oss,
00876     u_int32     busNbr,
00877     <span class="keywordtype">void</span>        *smbHdl);
00878 
00879 <span class="comment">/* swapping prototypes */</span>
00880 <span class="keyword">extern</span> u_int16 <a class="code" href="oss__specification_8c.html#a52">OSS_Swap16</a>( u_int16 word );
00881 <span class="keyword">extern</span> u_int32 <a class="code" href="oss__specification_8c.html#a53">OSS_Swap32</a>( u_int32 dword );
00882 
00883 <span class="preprocessor">#if !defined(OS9000) &amp;&amp; !defined(OS9)</span>
00884 <span class="preprocessor"></span><span class="keyword">extern</span> u_int64 <a class="code" href="oss__specification_8c.html#a54">OSS_Swap64</a>( u_int64 qword );
00885 <span class="preprocessor">#endif</span>
00886 <span class="preprocessor"></span>
00887 <span class="comment">/* double linked list prototypes */</span>
00888 <span class="keyword">extern</span> OSS_DL_LIST *<a class="code" href="oss__specification_8c.html#a15">OSS_DL_NewList</a>( OSS_DL_LIST *l );
00889 <span class="keyword">extern</span> OSS_DL_NODE *<a class="code" href="oss__specification_8c.html#a16">OSS_DL_Remove</a>( OSS_DL_NODE *n );
00890 <span class="keyword">extern</span> OSS_DL_NODE *<a class="code" href="oss__specification_8c.html#a17">OSS_DL_RemHead</a>( OSS_DL_LIST *l );
00891 <span class="keyword">extern</span> OSS_DL_NODE *<a class="code" href="oss__specification_8c.html#a18">OSS_DL_AddTail</a>( OSS_DL_LIST *l, OSS_DL_NODE *n );
00892 <span class="preprocessor">#ifdef OSS_HAS_DL_INSERT_AFTER</span>
00893 <span class="preprocessor"></span><span class="keyword">extern</span> OSS_DL_NODE *OSS_DL_InsertAfter( OSS_DL_NODE *n1, OSS_DL_NODE *n2 );
00894 <span class="preprocessor">#endif</span>
00895 <span class="preprocessor"></span>
00896 <span class="preprocessor">#ifdef __cplusplus</span>
00897 <span class="preprocessor"></span>   }
00898 <span class="preprocessor">#endif</span>
00899 <span class="preprocessor"></span><span class="preprocessor">#endif </span><span class="comment">/*_OSS_H_*/</span>
00900 
00901 
00902 
00903 
00904 
00905 
00906 
00907 
00908 
00909 
00910 
00911 
00912 
00913 
00914 
00915 
00916 
00917 
00918 
00919 
00920 
00921 
00922 
00923 
00924 
00925 
00926 
00927 
00928 
00929 
00930 
00931 
00932 
</pre></div>
	</div>
</div>

<div class="footer">
<!-- Footer -->
	<p class="footer">
	Generated for OSS module for Linux/RTAI using <a href="http://www.doxygen.org">doxygen</a>.<br>
	Copyright &copy; 2012 <a href="http://www.men.de">MEN Mikro Elektronik GmbH</a>. All Rights Reserved.
	</p>
</div>

</body>
</html>

