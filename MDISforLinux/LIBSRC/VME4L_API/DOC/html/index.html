<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>MEN - VME4L API - Main Page</title>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<meta name="Language" content="en, english">
<meta name="Copyright" content="All material copyright MEN Mikro Elektronik GmbH">
<link href="men_stylesheet.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class="left_to_right" style="padding-top: 6px; background-color: #F0F0F0; height: 110px; border-bottom: 2px solid #D1D1D2;">
	<!-- Titel -->
	<img src="menlogo.gif" alt="MEN" style="float: left; height: 103px; width: 155px; margin: 0px;">
	<h1 style="margin: 0px; padding-top: 35px; padding-bottom: 0px;">VME4L API &nbsp; </h1>
	<h3>Main Page</h3>
</div>

<div class="left_to_right">
<!-- Hauptteil -->
	<div class="main">
<!-- Generated by Doxygen 1.3.2 -->
<div class="qindex"><a class="qindexHL" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="annotated.html">Data&nbsp;Structures</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Data&nbsp;Fields</a> | <a class="qindex" href="globals.html">Globals</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>VME4L API Documentation</h1>
<p>
<a name="VME4L_API"/></a><p>
This document describes the features of MEN's VME for Linux (VME4L) API as well as most of the features of the underlying device driver. It operates on top of the <em>vme4l-core</em> device driver.<p>
Currently supported bridges are<ul>
<li>PLDZ002 (MEN A13/A15)</li><li>PLDA12 (MEN A12/B11)</li><li>TSI148 (MEN A17/A19/A20)</li></ul>
<p>
This interface is designed to support other bridges (such as Tundra Universe II) as well, but no bridge driver exists yet.<p>
The VME4L_API is to be used in Linux userland only. Separate APIs exist for Linux kernel mode drivers or RTAI applications (see header file <em>men_vme_kernelif.h</em> and the functions within <em>vme4l-core</em>.c)<p>
VME4L has the following features:<ul>
<li><a class="el" href="vme4laccvme.html">Accessing VME spaces</a></li><li><a class="el" href="vme4lirq.html">VME interrupt handling in user space</a></li><li><a class="el" href="vme4lsys.html">Functions to control system controller functionality</a></li><li><a class="el" href="vme4lipc.html">Interprocessor communication features</a></li></ul>
<h2><a name="vme4lgeneral"></a>
General Usage</h2>
Before VME4L functions can be used, a path has to be opened via <a class="el" href="vme4l__api_8c.html#a2">VME4L_Open()</a> to the VME space you wish to access. For some functions (such as the functions for interrupt handling), it is not important which space you have opened.<p>
<div class="fragment"><pre>  <span class="keywordtype">int</span> spaceFd;

  spaceFd = <a class="code" href="vme4l__api_8c.html#a2">VME4L_Open</a>( VME4L_SPC_A24_D16 );

  <span class="keywordflow">if</span>( spaceFd &lt; 0 )
      exit(1);

  <span class="comment">// Access VME functions here</span>

  <a class="code" href="vme4l__api_8c.html#a3">VME4L_Close</a>( spaceFd ); 
</pre></div><p>
The value returned by <a class="el" href="vme4l__api_8c.html#a2">VME4L_Open()</a> has to be passed to all further VME4L functions.<p>
When you have finished accessing the VMEbus, you should close the path by calling <a class="el" href="vme4l__api_8c.html#a3">VME4L_Close()</a>. If your program exits without closing the path(s) before, the Linux OS will automatically close the paths for you.<h3><a name="vme4lret"></a>
VME4L Return values</h3>
All VME4L functions return a value &gt;= 0 on success or -1 on failure. On failure, the global variable <em>errno</em> is set to a Linux standard error code. The VME4L_API does not use special error codes.<h3><a name="vme4lhdr"></a>
VME4L header files and libraries</h3>
Any user program that uses VME4L_API must include at least those header files:<p>
<div class="fragment"><pre><span class="preprocessor">  #include &lt;stdint.h&gt;</span>
<span class="preprocessor">  #include &lt;errno.h&gt;</span>
<span class="preprocessor">  #include &lt;unistd.h&gt;</span>
<span class="preprocessor">  #include &lt;<a class="code" href="vme4l_8h.html">MEN/vme4l.h</a>&gt;</span>
<span class="preprocessor">  #include &lt;<a class="code" href="vme4l__api_8h.html">MEN/vme4l_api.h</a>&gt;</span> 
</pre></div><p>
The application must be linked against the library <code>vme4l_api.so</code> or <code>vme4l_api.a</code> 
	</div>
</div>

<div class="footer">
<!-- Footer -->
	<p class="footer">
	Generated for VME4L API using <a href="http://www.doxygen.org">doxygen</a>.<br>
	Copyright &copy; 2019 <a href="http://www.men.de">MEN Mikro Elektronik GmbH</a>. All Rights Reserved.
	</p>
</div>

</body>
</html>

