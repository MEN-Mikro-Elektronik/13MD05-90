<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>MEN - Chameleon System Unit Driver - chameleon.h Source File</title>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<meta name="Language" content="en, english">
<meta name="Copyright" content="All material copyright MEN Mikro Elektronik GmbH">
<link href="men_stylesheet.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class="left_to_right" style="padding-top: 6px; background-color: #F0F0F0; height: 110px; border-bottom: 2px solid #D1D1D2;">
	<!-- Titel -->
	<img src="menlogo.gif" alt="MEN" style="float: left; height: 103px; width: 155px; margin: 0px;">
	<h1 style="margin: 0px; padding-top: 35px; padding-bottom: 0px;">Chameleon System Unit Driver &nbsp; </h1>
	<h3>chameleon.h Source File</h3>
</div>

<div class="left_to_right">
<!-- Hauptteil -->
	<div class="main">
<!-- Generated by Doxygen 1.3.2 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="annotated.html">Data&nbsp;Structures</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Data&nbsp;Fields</a> | <a class="qindex" href="globals.html">Globals</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>chameleon.h</h1><a href="chameleon_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <span class="comment">/***********************  I n c l u d e  -  F i l e  ***********************/</span>
00012 <span class="comment">/*</span>
00013 <span class="comment"> *---------------------------------------------------------------------------</span>
00014 <span class="comment"> * Copyright 2015-2019, MEN Mikro Elektronik GmbH</span>
00015 <span class="comment"> ******************************************************************************/</span>
00016 <span class="comment">/*</span>
00017 <span class="comment"> * This program is free software: you can redistribute it and/or modify</span>
00018 <span class="comment"> * it under the terms of the GNU General Public License as published by</span>
00019 <span class="comment"> * the Free Software Foundation, either version 2 of the License, or</span>
00020 <span class="comment"> * (at your option) any later version.</span>
00021 <span class="comment"> *</span>
00022 <span class="comment"> * This program is distributed in the hope that it will be useful,</span>
00023 <span class="comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
00024 <span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
00025 <span class="comment"> * GNU General Public License for more details.</span>
00026 <span class="comment"> *</span>
00027 <span class="comment"> * You should have received a copy of the GNU General Public License</span>
00028 <span class="comment"> * along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
00029 <span class="comment"> */</span>
00030 
00031 <span class="preprocessor">#ifndef _CHAMELEON_H</span>
00032 <span class="preprocessor"></span><span class="preprocessor">#define _CHAMELEON_H</span>
00033 <span class="preprocessor"></span>
00034 <span class="preprocessor">#ifdef __cplusplus</span>
00035 <span class="preprocessor"></span>    <span class="keyword">extern</span> <span class="stringliteral">"C"</span> {
00036 <span class="preprocessor">#endif</span>
00037 <span class="preprocessor"></span><span class="comment">/*--------------------------------------+</span>
00038 <span class="comment">|   DEFINES                             |</span>
00039 <span class="comment">+--------------------------------------*/</span>
00040 <span class="comment">/* official module codes */</span>
00041 <span class="preprocessor">#define CHAMELEON_16Z000_SYSTEM         0x00</span>
00042 <span class="preprocessor"></span><span class="preprocessor">#define CHAMELEON_16Z032_DISP           0x01</span>
00043 <span class="preprocessor"></span><span class="preprocessor">#define CHAMELEON_16Z033_DISP           0x02</span>
00044 <span class="preprocessor"></span><span class="preprocessor">#define CHAMELEON_16Z002_VME            0x02</span>
00045 <span class="preprocessor"></span><span class="preprocessor">#define CHAMELEON_16Z031_SPI            0x03</span>
00046 <span class="preprocessor"></span><span class="preprocessor">#define CHAMELEON_16Z023_IDE            0x04</span>
00047 <span class="preprocessor"></span><span class="preprocessor">#define CHAMELEON_16Z030_UARTHLP        0x05</span>
00048 <span class="preprocessor"></span><span class="preprocessor">#define CHAMELEON_16Z024_SRAM           0x06</span>
00049 <span class="preprocessor"></span><span class="preprocessor">#define CHAMELEON_16Z025_UART           0x07</span>
00050 <span class="preprocessor"></span><span class="preprocessor">#define CHAMELEON_16Z029_CAN            0x08</span>
00051 <span class="preprocessor"></span><span class="preprocessor">#define CHAMELEON_16Z022_GPIO           0x09</span>
00052 <span class="preprocessor"></span><span class="preprocessor">#define CHAMELEON_16Z035_SYSTEM         0x0a</span>
00053 <span class="preprocessor"></span><span class="preprocessor">#define CHAMELEON_PCI_INT               0x0b</span>
00054 <span class="preprocessor"></span><span class="preprocessor">#define CHAMELEON_CANGPIO               0x0c</span>
00055 <span class="preprocessor"></span><span class="preprocessor">#define CHAMELEON_16Z016_IDE            0x10    </span><span class="comment">/* IDE UDMA */</span>
00056 <span class="preprocessor">#define CHAMELEON_16Z063_NAND_RAW       0x18    </span><span class="comment">/* raw NAND flash controller */</span>
00057 <span class="preprocessor">#define CHAMELEON_16Z034_GPIO           0x19</span>
00058 <span class="preprocessor"></span><span class="preprocessor">#define CHAMELEON_16Z001_SMB            0x1b    </span><span class="comment">/* SMB */</span>
00059 <span class="preprocessor">#define CHAMELEON_16Z048_ISA            0x1c    </span><span class="comment">/* ISA bridge */</span>
00060 <span class="preprocessor">#define CHAMELEON_16Z049_TMR            0x1d    </span><span class="comment">/* 8254 timer */</span>
00061 <span class="preprocessor">#define CHAMELEON_16Z050_BIO            0x1e    </span><span class="comment">/* binary I/O */</span>
00062 <span class="preprocessor">#define CHAMELEON_16Z045_FLASH          0x1f    </span><span class="comment">/* flash I/F */</span>
00063 <span class="preprocessor">#define CHAMELEON_16Z052_GIRQ           0x20    </span><span class="comment">/* global interrupt controller */</span>
00064 <span class="preprocessor">#define CHAMELEON_16Z043_SDRAM          0x21    </span><span class="comment">/* SDRAM */</span>
00065 <span class="preprocessor">#define CHAMELEON_16Z053_IDE            0x22    </span><span class="comment">/* standard IDE controller - may NIOS + NAND */</span>
00066 <span class="preprocessor">#define CHAMELEON_16Z054_SYSTEM         0x23    </span><span class="comment">/* system registers - EM03/EM07 */</span>
00067 <span class="preprocessor">#define CHAMELEON_16Z055_HDLC           0x24    </span><span class="comment">/* HDLC */</span>
00068 <span class="preprocessor">#define CHAMELEON_16Z044_DISP           0x25    </span><span class="comment">/* Display Controller */</span>
00069 <span class="preprocessor">#define CHAMELEON_16Z059_IRQ            0x26    </span><span class="comment">/* Interrupt controller */</span>
00070 <span class="preprocessor">#define CHAMELEON_16Z051_DAC            0x27    </span><span class="comment">/* Analog output */</span>
00071 <span class="preprocessor">#define CHAMELEON_16Z023_IDENHS         0x29    </span><span class="comment">/* IDE without hot swap */</span>
00072 <span class="preprocessor">#define CHAMELEON_16Z061_PWM            0x2a    </span><span class="comment">/* PWM unit */</span>
00073 <span class="preprocessor">#define CHAMELEON_16Z062_DMA            0x2b    </span><span class="comment">/* general DMA */</span>
00074 <span class="preprocessor">#define CHAMELEON_16Z064_ZOOM           0x2d    </span><span class="comment">/* Zoom logic 640x480 -&gt; 800x600 */</span>
00075 <span class="preprocessor">#define CHAMELEON_16Z065_WBAV           0x2e    </span><span class="comment">/* wishbone-&gt;avalon bridge */</span>
00076 <span class="preprocessor">#define CHAMELEON_16Z066_MMOD           0x2f    </span><span class="comment">/* m-module */</span>
00077 <span class="preprocessor">#define CHAMELEON_16Z067_VME            0x30    </span><span class="comment">/* vme */</span>
00078 <span class="preprocessor">#define CHAMELEON_16Z068_IDE            0x31    </span><span class="comment">/* ide standard */</span>
00079 <span class="preprocessor">#define CHAMELEON_16Z069_RST            0x32    </span><span class="comment">/* rst */</span>
00080 <span class="preprocessor">#define CHAMELEON_16Z072_OWB            0x36    </span><span class="comment">/* One Wire Bus */</span>
00081 <span class="preprocessor">#define CHAMELEON_16Z073_QDEC           0x33    </span><span class="comment">/* Quadrature Decoder */</span>
00082 <span class="preprocessor">#define CHAMELEON_16Z074_REGSPI         0x37    </span><span class="comment">/* Analog I/O */</span>
00083 <span class="preprocessor">#define CHAMELEON_16Z075_SPEED          0x35    </span><span class="comment">/* Frequency Counter */</span>
00084 <span class="preprocessor">#define CHAMELEON_16Z076_QSPI           0x34    </span><span class="comment">/* Quad SPI */</span>
00085 <span class="preprocessor">#define CHAMELEON_16Z077_ETH            0x38    </span><span class="comment">/* Ethernet Controller */</span>
00086 <span class="preprocessor">#define CHAMELEON_16Z079_ANYBUS         0x39    </span><span class="comment">/* Anybus Module */</span>
00087 <span class="preprocessor">#define CHAMELEON_16z082_IMPULSE        0x3a    </span><span class="comment">/* Impulse counter Unit */</span>
00088 <span class="preprocessor">#define CHAMELEON_CUSTOMER_MODULE       0x3f    </span><span class="comment">/* Customer specific unit */</span>
00089 <span class="preprocessor">#define CHAMELEON_16Z080_ARCNET         0x40    </span><span class="comment">/* Arcnet Core */</span>
00090 <span class="preprocessor">#define CHAMELEON_16Z081_FIP            0x41    </span><span class="comment">/* FIP Core */</span>
00091 <span class="preprocessor">#define CHAMELEON_16Z125_UART           0x42    </span><span class="comment">/* High Speed Uart */</span>
00092 <span class="preprocessor">#define CHAMELEON_16Z056_SPI            0x43    </span><span class="comment">/* programable SPI controller */</span>
00093 <span class="preprocessor">#define CHAMELEON_16Z084_IDEEPROM       0x44    </span><span class="comment">/* ID EEPROM emulation for M199 */</span>
00094 <span class="preprocessor">#define CHAMELEON_16Z085_MS09N          0x45    </span><span class="comment">/* MS09N interrupt logic*/</span>
00095 <span class="preprocessor">#define CHAMELEON_16Z087_ETH            0x46    </span><span class="comment">/* New MEN Ethernet Core */</span>
00096 <span class="preprocessor">#define CHAMELEON_16Z057_UART           0x47    </span><span class="comment">/* modified Z025 (IRQ handling) */</span>
00097 <span class="preprocessor">#define CHAMELEON_16Z089_HSSL           0x48    </span><span class="comment">/* HSSL config unit */</span>
00098 <span class="preprocessor">#define CHAMELEON_16Z090_DPRAM          0x49    </span><span class="comment">/* 70V27 DPRAM unit */</span>
00099 <span class="preprocessor">#define CHAMELEON_16Z094_WB28XX         0x5e    </span><span class="comment">/* WB to 8xx Bus Bridge */</span>
00100 <span class="preprocessor">#define CHAMELEON_16Z126_SERFLASH       0x7e    </span><span class="comment">/* Serial Flash interface */</span>
00101 <span class="preprocessor">#define CHAMELEON_16Z135_HISPEEDUART    0x87    </span><span class="comment">/* High speed UART */</span>
00102 <span class="preprocessor">#define CHAMELEON_16Z147_ARINC717_RX    0x93    </span><span class="comment">/* ARINC717 receive IP core */</span>
00103 <span class="preprocessor">#define CHAMELEON_16Z247_ARINC717_TX    0xf7    </span><span class="comment">/* ARINC717 transmit IP core */</span>
00104 <span class="preprocessor">#define CHAMELEON_16Z146_ARINC429_RX    0x92    </span><span class="comment">/* ARINC429 receive IP core */</span>
00105 <span class="preprocessor">#define CHAMELEON_16Z246_ARINC429_TX    0xf6    </span><span class="comment">/* ARINC429 transmit IP core */</span>
00106 
00107 <span class="comment">/* old module codes: DONT USE THESE DEFINES IN NEW PROJECTS</span>
00108 <span class="comment"> * ts: old module codes were removed 18.02.2015. If there is any code out there still using</span>
00109 <span class="comment"> * these let compile fail gracefully so D.E.Veloper is forced to update his defines. Ha! </span>
00110 <span class="comment"> */</span>
00111 
00112 <span class="comment">/* PCI FPGA defs */</span>
00113 <span class="preprocessor">#define CHAMELEON_PCI_VENID_ALTERA      0x1172 </span><span class="comment">/* Altera PCI Vendor ID */</span>
00114 <span class="preprocessor">#define CHAMELEON_PCI_VENID_MEN         0x1A88 </span><span class="comment">/* MEN PCI Vendor ID    */</span>
00115 
00116 <span class="preprocessor">#define CHAMELEON_PCI_DEV_ID            0x4d45 </span><span class="comment">/* standard chameleon device id */</span>
00117 
00118 <span class="preprocessor">#define EM04_FPGA_PCI_DEV_ID            0x5104</span>
00119 <span class="preprocessor"></span><span class="preprocessor">#define EM04_FPGA_PCI_DEV_NO            0x1D</span>
00120 <span class="preprocessor"></span><span class="preprocessor">#define EM04_FPGA_PCI_BUS               0</span>
00121 <span class="preprocessor"></span><span class="preprocessor">#define EM04_FPGA_PCI_FUNC              0</span>
00122 <span class="preprocessor"></span><span class="preprocessor">#define EM04_FPGA_TYPE                  "EM04"</span>
00123 <span class="preprocessor"></span>
00124 <span class="preprocessor">#define A015_PCI2VME_FPGA_IC            56</span>
00125 <span class="preprocessor"></span><span class="preprocessor">#define A015_PCI2VME_FPGA_TYPE          "A015-IC56"</span>
00126 <span class="preprocessor"></span>
00127 <span class="preprocessor">#define A015_PCI2MMOD_FPGA_IC           35</span>
00128 <span class="preprocessor"></span><span class="preprocessor">#define A015_PCI2MMOD_FPGA_TYPE         "A015-IC35"</span>
00129 <span class="preprocessor"></span>
00130 <span class="comment">/* error codes */</span>
00131 <span class="preprocessor">#define CHAMELEON_LOAD_OK               0</span>
00132 <span class="preprocessor"></span><span class="preprocessor">#define CHAMELEON_OK                    0</span>
00133 <span class="preprocessor"></span><span class="preprocessor">#define CHAMELEON_CODE_ABSENT           0xB0</span>
00134 <span class="preprocessor"></span><span class="preprocessor">#define CHAMELEON_CODE_MISMATCH         0xB1</span>
00135 <span class="preprocessor"></span><span class="preprocessor">#define CHAMELEON_LOAD_ERR              0xB2</span>
00136 <span class="preprocessor"></span><span class="preprocessor">#define CHAMELEON_VERIFY_ERR            0xB3</span>
00137 <span class="preprocessor"></span><span class="preprocessor">#define CHAMELEON_INIT_DONE_ERR         0xB4</span>
00138 <span class="preprocessor"></span><span class="preprocessor">#define CHAMELEON_CONF_STAT_ERR         0xB5</span>
00139 <span class="preprocessor"></span><span class="preprocessor">#define CHAMELEON_CODE_CHKSUM_ERR       0xB6</span>
00140 <span class="preprocessor"></span><span class="preprocessor">#define CHAMELEON_DEV_NOT_FOUND         0xB7</span>
00141 <span class="preprocessor"></span><span class="preprocessor">#define CHAMELEON_PCI_ERR               0xB7</span>
00142 <span class="preprocessor"></span><span class="preprocessor">#define CHAMELEON_OUT_OF_RESOURCE       0xBA</span>
00143 <span class="preprocessor"></span><span class="preprocessor">#define CHAMELEON_OUT_OF_RANGE          0xBB</span>
00144 <span class="preprocessor"></span><span class="preprocessor">#define CHAMELEON_UNIT_NOT_FOUND        0xBC</span>
00145 <span class="preprocessor"></span>
<a name="l00150"></a><a class="code" href="group____CHAMV2__ERRCODES.html#a0">00150</a> <span class="preprocessor">#define CHAMELEONV2_PCIDEV_ILL          0xC0    </span>
<a name="l00151"></a><a class="code" href="group____CHAMV2__ERRCODES.html#a1">00151</a> <span class="preprocessor">#define CHAMELEONV2_PCIDEV_ERR          0xC1    </span>
<a name="l00152"></a><a class="code" href="group____CHAMV2__ERRCODES.html#a2">00152</a> <span class="preprocessor">#define CHAMELEONV2_TABLE_NOT_FOUND     0xC2    </span>
<a name="l00153"></a><a class="code" href="group____CHAMV2__ERRCODES.html#a3">00153</a> <span class="preprocessor">#define CHAMELEONV2_TABLE_REV_UNSUP     0xC3    </span>
<a name="l00154"></a><a class="code" href="group____CHAMV2__ERRCODES.html#a4">00154</a> <span class="preprocessor">#define CHAMELEONV2_TABLE_ERR           0xC4    </span>
<a name="l00155"></a><a class="code" href="group____CHAMV2__ERRCODES.html#a5">00155</a> <span class="preprocessor">#define CHAMELEONV2_DTYPE_UNSUP         0xC5    </span>
<a name="l00156"></a><a class="code" href="group____CHAMV2__ERRCODES.html#a6">00156</a> <span class="preprocessor">#define CHAMELEONV2_BAR_UNASSIGNED      0xC6    </span>
<a name="l00157"></a><a class="code" href="group____CHAMV2__ERRCODES.html#a7">00157</a> <span class="preprocessor">#define CHAMELEONV2_BARDESC_MISSING     0xC7    </span>
<a name="l00158"></a><a class="code" href="group____CHAMV2__ERRCODES.html#a8">00158</a> <span class="preprocessor">#define CHAMELEONV2_HANDLE_ILL          0xC8    </span>
<a name="l00159"></a><a class="code" href="group____CHAMV2__ERRCODES.html#a9">00159</a> <span class="preprocessor">#define CHAMELEONV2_OUT_OF_RES          0xC9    </span>
<a name="l00160"></a><a class="code" href="group____CHAMV2__ERRCODES.html#a10">00160</a> <span class="preprocessor">#define CHAMELEONV2_NO_MORE_ENTRIES     0xCA    </span>
<a name="l00167"></a><a class="code" href="group____CHAMV2__SUCCCODES.html#a0">00167</a> <span class="preprocessor">#define CHAMELEONV2_UNIT_FOUND          0xE0    </span>
<a name="l00168"></a><a class="code" href="group____CHAMV2__SUCCCODES.html#a1">00168</a> <span class="preprocessor">#define CHAMELEONV2_BRIDGE_FOUND        0xE1    </span>
<a name="l00169"></a><a class="code" href="group____CHAMV2__SUCCCODES.html#a2">00169</a> <span class="preprocessor">#define CHAMELEONV2_CPU_FOUND           0xE2    </span>
00173 <span class="preprocessor">#define FPGA_HEADER_CODE_ABSENT         CHAMELEON_CODE_ABSENT</span>
00174 <span class="preprocessor"></span><span class="preprocessor">#define FPGA_HEADER_BAD_PARAM           0xBD</span>
00175 <span class="preprocessor"></span><span class="preprocessor">#define FPGA_DATA_CHKSUM_ERR            CHAMELEON_CODE_CHKSUM_ERR</span>
00176 <span class="preprocessor"></span><span class="preprocessor">#define FPGA_CODE_MISMATCH              CHAMELEON_CODE_MISMATCH</span>
00177 <span class="preprocessor"></span>
<a name="l00182"></a><a class="code" href="group____CHAM__MAGICWORD.html#a0">00182</a> <span class="preprocessor">#define CHAMELEON_MAGIC_00              0xABCD      </span>
<a name="l00183"></a><a class="code" href="group____CHAM__MAGICWORD.html#a1">00183</a> <span class="preprocessor">#define CHAMELEON_MAGIC_01              0xCDEF      </span>
<a name="l00184"></a><a class="code" href="group____CHAM__MAGICWORD.html#a2">00184</a> <span class="preprocessor">#define CHAMELEON_MAGIC_02              0xABCE      </span>
<a name="l00191"></a><a class="code" href="group____CHAMV2__BUSTYPE.html#a0">00191</a> <span class="preprocessor">#define CHAMELEONV2_BUSTYPE_WB          0x0     </span>
<a name="l00192"></a><a class="code" href="group____CHAMV2__BUSTYPE.html#a1">00192</a> <span class="preprocessor">#define CHAMELEONV2_BUSTYPE_AV          0x1     </span>
<a name="l00193"></a><a class="code" href="group____CHAMV2__BUSTYPE.html#a2">00193</a> <span class="preprocessor">#define CHAMELEONV2_BUSTYPE_LPC         0x2     </span>
<a name="l00194"></a><a class="code" href="group____CHAMV2__BUSTYPE.html#a3">00194</a> <span class="preprocessor">#define CHAMELEONV2_BUSTYPE_ISA         0x3     </span>
<a name="l00201"></a><a class="code" href="group____CHAMV2__FF.html#a0">00201</a> <span class="preprocessor">#define CHAMELEONV2_FF_BRGALL           0x0001 </span>
<a name="l00205"></a><a class="code" href="chameleon_8h.html#a117">00205</a> <span class="preprocessor">#define CHAMELEONV2_FILENAME_SIZE       13      </span>
00207 <span class="preprocessor"></span><span class="comment">/*--------------------------------------+</span>
00208 <span class="comment">|   TYPDEFS                             |</span>
00209 <span class="comment">+--------------------------------------*/</span>
00210 
00211 <span class="preprocessor">#ifndef CHAMELEON_CODES_ONLY</span>
00212 <span class="preprocessor"></span>
00213 <span class="preprocessor">#include &lt;MEN/oss.h&gt;</span>
00214 
<a name="l00218"></a><a class="code" href="structCHAMELEON__UNIT.html">00218</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>{
<a name="l00219"></a><a class="code" href="structCHAMELEON__UNIT.html#o0">00219</a>     u_int16 modCode;            
<a name="l00220"></a><a class="code" href="structCHAMELEON__UNIT.html#o1">00220</a>     u_int16 revision;           
<a name="l00221"></a><a class="code" href="structCHAMELEON__UNIT.html#o2">00221</a>     u_int16 instance;           
<a name="l00222"></a><a class="code" href="structCHAMELEON__UNIT.html#o3">00222</a>     u_int16 interrupt;          
<a name="l00224"></a><a class="code" href="structCHAMELEON__UNIT.html#o4">00224</a>     u_int16 bar;                
00225     u_int16 _pad;
<a name="l00226"></a><a class="code" href="structCHAMELEON__UNIT.html#o6">00226</a>     u_int32 offset;             
<a name="l00227"></a><a class="code" href="structCHAMELEON__UNIT.html#o7">00227</a>     <span class="keywordtype">void</span>    *addr;              
00228 } <a class="code" href="structCHAMELEON__UNIT.html">CHAMELEON_UNIT</a>;
00229 
<a name="l00233"></a><a class="code" href="structCHAMELEONV2__BA.html">00233</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>{
<a name="l00234"></a><a class="code" href="structCHAMELEONV2__BA.html#o0">00234</a>     u_int32 addr;       
<a name="l00235"></a><a class="code" href="structCHAMELEONV2__BA.html#o1">00235</a>     u_int32 size;       
<a name="l00236"></a><a class="code" href="structCHAMELEONV2__BA.html#o2">00236</a>     int8 type;          
00237 } <a class="code" href="structCHAMELEONV2__BA.html">CHAMELEONV2_BA</a>;
00238 
<a name="l00249"></a><a class="code" href="structCHAMELEONV2__INFO.html">00249</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>{
<a name="l00250"></a><a class="code" href="structCHAMELEONV2__INFO.html#o0">00250</a>     u_int16     chaRev;     
<a name="l00251"></a><a class="code" href="structCHAMELEONV2__INFO.html#o1">00251</a>     u_int16     busId;      
<a name="l00252"></a><a class="code" href="structCHAMELEONV2__INFO.html#o2">00252</a>     u_int16     tableNbr;   
<a name="l00253"></a><a class="code" href="structCHAMELEONV2__INFO.html#o3">00253</a>     u_int16     unitNbr;    
<a name="l00254"></a><a class="code" href="structCHAMELEONV2__INFO.html#o4">00254</a>     u_int16     bridgeNbr;  
<a name="l00255"></a><a class="code" href="structCHAMELEONV2__INFO.html#o5">00255</a>     u_int16     cpuNbr;     
<a name="l00256"></a><a class="code" href="structCHAMELEONV2__INFO.html#o6">00256</a>     <a class="code" href="structCHAMELEONV2__BA.html">CHAMELEONV2_BA</a>  ba[6];  
00257 } <a class="code" href="structCHAMELEONV2__INFO.html">CHAMELEONV2_INFO</a>;
00258 
<a name="l00270"></a><a class="code" href="structCHAMELEONV2__TABLE.html">00270</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>{
<a name="l00271"></a><a class="code" href="structCHAMELEONV2__TABLE.html#o0">00271</a>     u_int16 busType;    
<a name="l00273"></a><a class="code" href="structCHAMELEONV2__TABLE.html#o1">00273</a>     u_int16 busId;      
<a name="l00274"></a><a class="code" href="structCHAMELEONV2__TABLE.html#o2">00274</a>     <span class="keywordtype">char</span>    model;      
<a name="l00275"></a><a class="code" href="structCHAMELEONV2__TABLE.html#o3">00275</a>     u_int16 revision;   
<a name="l00276"></a><a class="code" href="structCHAMELEONV2__TABLE.html#o4">00276</a>     <span class="keywordtype">char</span>    file[<a class="code" href="chameleon_8h.html#a117">CHAMELEONV2_FILENAME_SIZE</a>]; 
<a name="l00279"></a><a class="code" href="structCHAMELEONV2__TABLE.html#o5">00279</a>     u_int16 magicWord;  
<a name="l00281"></a><a class="code" href="structCHAMELEONV2__TABLE.html#o6">00281</a>     u_int16 minRevision;    
00282 } <a class="code" href="structCHAMELEONV2__TABLE.html">CHAMELEONV2_TABLE</a>;
00283 
<a name="l00294"></a><a class="code" href="structCHAMELEONV2__UNIT.html">00294</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>{
00295     <span class="comment">/* type */</span>
<a name="l00296"></a><a class="code" href="structCHAMELEONV2__UNIT.html#o0">00296</a>     u_int16 devId;              
<a name="l00298"></a><a class="code" href="structCHAMELEONV2__UNIT.html#o1">00298</a>     u_int16 variant;            
<a name="l00299"></a><a class="code" href="structCHAMELEONV2__UNIT.html#o2">00299</a>     u_int16 revision;           
00301     <span class="comment">/* location */</span>
<a name="l00302"></a><a class="code" href="structCHAMELEONV2__UNIT.html#o3">00302</a>     u_int16 busId;              
<a name="l00303"></a><a class="code" href="structCHAMELEONV2__UNIT.html#o4">00303</a>     u_int16 instance;           
<a name="l00304"></a><a class="code" href="structCHAMELEONV2__UNIT.html#o5">00304</a>     u_int16 group;              
00306     <span class="comment">/* resources */</span>
<a name="l00307"></a><a class="code" href="structCHAMELEONV2__UNIT.html#o6">00307</a>     u_int16 interrupt;          
<a name="l00309"></a><a class="code" href="structCHAMELEONV2__UNIT.html#o7">00309</a>     u_int16 bar;                
<a name="l00311"></a><a class="code" href="structCHAMELEONV2__UNIT.html#o8">00311</a>     u_int32 offset;             
<a name="l00313"></a><a class="code" href="structCHAMELEONV2__UNIT.html#o9">00313</a>     u_int32 size;               
<a name="l00314"></a><a class="code" href="structCHAMELEONV2__UNIT.html#o10">00314</a>     <span class="keywordtype">void</span>    *addr;              
<a name="l00316"></a><a class="code" href="structCHAMELEONV2__UNIT.html#o11">00316</a>     u_int32 reserved;           
00317 } <a class="code" href="structCHAMELEONV2__UNIT.html">CHAMELEONV2_UNIT</a>;
00318 
<a name="l00322"></a><a class="code" href="structCHAMELEONV2__BRIDGE.html">00322</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>{
00323     <span class="comment">/* type */</span>
<a name="l00324"></a><a class="code" href="structCHAMELEONV2__BRIDGE.html#o0">00324</a>     u_int16 devId;              
<a name="l00326"></a><a class="code" href="structCHAMELEONV2__BRIDGE.html#o1">00326</a>     u_int16 variant;            
<a name="l00327"></a><a class="code" href="structCHAMELEONV2__BRIDGE.html#o2">00327</a>     u_int16 revision;           
00329     <span class="comment">/* location */</span>
<a name="l00330"></a><a class="code" href="structCHAMELEONV2__BRIDGE.html#o3">00330</a>     u_int16 busId;              
<a name="l00331"></a><a class="code" href="structCHAMELEONV2__BRIDGE.html#o4">00331</a>     u_int16 instance;           
00333     <span class="comment">/* connection */</span>
<a name="l00334"></a><a class="code" href="structCHAMELEONV2__BRIDGE.html#o5">00334</a>     u_int16 nextBus;            
00336     <span class="comment">/* resources */</span>
<a name="l00337"></a><a class="code" href="structCHAMELEONV2__BRIDGE.html#o6">00337</a>     u_int16 interrupt;          
<a name="l00339"></a><a class="code" href="structCHAMELEONV2__BRIDGE.html#o7">00339</a>     u_int16 bar;                
<a name="l00341"></a><a class="code" href="structCHAMELEONV2__BRIDGE.html#o8">00341</a>     u_int16 dbar;               
<a name="l00342"></a><a class="code" href="structCHAMELEONV2__BRIDGE.html#o9">00342</a>     u_int16 group;              
<a name="l00343"></a><a class="code" href="structCHAMELEONV2__BRIDGE.html#o10">00343</a>     u_int32 offset;             
<a name="l00345"></a><a class="code" href="structCHAMELEONV2__BRIDGE.html#o11">00345</a>     u_int32 size;               
<a name="l00346"></a><a class="code" href="structCHAMELEONV2__BRIDGE.html#o12">00346</a>     <span class="keywordtype">void</span>    *addr;              
00348 } <a class="code" href="structCHAMELEONV2__BRIDGE.html">CHAMELEONV2_BRIDGE</a>;
00349 
<a name="l00353"></a><a class="code" href="structCHAMELEONV2__CPU.html">00353</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>{
00354     <span class="comment">/* type */</span>
<a name="l00355"></a><a class="code" href="structCHAMELEONV2__CPU.html#o0">00355</a>     u_int16 devId;              
<a name="l00357"></a><a class="code" href="structCHAMELEONV2__CPU.html#o1">00357</a>     u_int16 variant;            
<a name="l00358"></a><a class="code" href="structCHAMELEONV2__CPU.html#o2">00358</a>     u_int16 revision;           
00360     <span class="comment">/* location */</span>
<a name="l00361"></a><a class="code" href="structCHAMELEONV2__CPU.html#o3">00361</a>     u_int16 busId;              
<a name="l00362"></a><a class="code" href="structCHAMELEONV2__CPU.html#o4">00362</a>     u_int16 instance;           
<a name="l00363"></a><a class="code" href="structCHAMELEONV2__CPU.html#o5">00363</a>     u_int16 group;              
00365     <span class="comment">/* resources */</span>
<a name="l00366"></a><a class="code" href="structCHAMELEONV2__CPU.html#o6">00366</a>     u_int16 interrupt;          
00368     u_int16 _pad;
<a name="l00369"></a><a class="code" href="structCHAMELEONV2__CPU.html#o8">00369</a>     u_int32 bootAddr;           
<a name="l00370"></a><a class="code" href="structCHAMELEONV2__CPU.html#o9">00370</a>     u_int32 reserved;           
00371 } <a class="code" href="structCHAMELEONV2__CPU.html">CHAMELEONV2_CPU</a>;
00372 
<a name="l00377"></a><a class="code" href="structCHAMELEONV2__FIND.html">00377</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>{
<a name="l00378"></a><a class="code" href="structCHAMELEONV2__FIND.html#o0">00378</a>     int16 devId;        
<a name="l00379"></a><a class="code" href="structCHAMELEONV2__FIND.html#o1">00379</a>     int16 variant;      
<a name="l00380"></a><a class="code" href="structCHAMELEONV2__FIND.html#o2">00380</a>     int16 instance;     
<a name="l00381"></a><a class="code" href="structCHAMELEONV2__FIND.html#o3">00381</a>     int16 busId;        
<a name="l00382"></a><a class="code" href="structCHAMELEONV2__FIND.html#o4">00382</a>     int16 group;        
<a name="l00383"></a><a class="code" href="structCHAMELEONV2__FIND.html#o5">00383</a>     u_int16 flags;      
<a name="l00384"></a><a class="code" href="structCHAMELEONV2__FIND.html#o6">00384</a>     int32 bootAddr;     
00385 } <a class="code" href="structCHAMELEONV2__FIND.html">CHAMELEONV2_FIND</a>;
00386 
00387 <span class="keyword">typedef</span> <span class="keywordtype">void</span> CHAMELEON_HANDLE;
<a name="l00388"></a><a class="code" href="chameleon_8h.html#a133">00388</a> <span class="keyword">typedef</span> <span class="keywordtype">void</span> <a class="code" href="chameleon_8h.html#a133">CHAMELEONV2_HANDLE</a>;    
<a name="l00394"></a><a class="code" href="structFPGA__HEADER__INFO.html">00394</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>{
00395 
00396     <span class="keywordtype">char</span>    fileName[32];       <span class="comment">/* ??? */</span>
00397     <span class="keywordtype">char</span>    fpgaType[16];       <span class="comment">/* identifier for FPGA HW type */</span>
00398     <span class="keywordtype">char</span>    boardType[16];      <span class="comment">/* identifier for board type (CPU/I/O brd)</span>
00399 <span class="comment">                                   with or without model */</span>
00400     <span class="keywordtype">char</span>    cBoardType[16];     <span class="comment">/* carrier board</span>
00401 <span class="comment">                                   (old EM04 style filename only) ,</span>
00402 <span class="comment">                                   without trailing '-'*/</span>
00403     u_int32 size;               <span class="comment">/* size in bytes of FPGA netto data */</span>
00404     u_int32 totSize;            <span class="comment">/* size of header + FPGA netto data */</span>
00405     u_int32 xorSum;             <span class="comment">/* copy of chksum from header */</span>
00406 
00407     int32   icNo;
00408     int32   revision;
00409     int32   variant;
00410 
00411     u_int8 *data;               <span class="comment">/* pointer to FPGA data */</span>
00412 } <a class="code" href="structFPGA__HEADER__INFO.html">FPGA_HEADER_INFO</a>;
00413 
00414 <span class="preprocessor">#ifndef _FPGA_HEADER_H</span>
00415 <span class="preprocessor"></span><span class="keyword">typedef</span> <span class="keywordtype">void</span> FPGA_HEADER;
00416 <span class="preprocessor">#endif</span>
00417 <span class="preprocessor"></span>
<a name="l00423"></a><a class="code" href="structCHAM__FUNCTBL.html">00423</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>{
00424         int32 (*InitPci)(
00425                 OSS_HANDLE *osh,
00426                 u_int32 pciBus,
00427                 u_int32 pciDev,
00428                 u_int32 pciFunc,
00429                 <a class="code" href="chameleon_8h.html#a133">CHAMELEONV2_HANDLE</a> **chahP);
00430         int32 (*InitInside)(
00431                 OSS_HANDLE *osh,
00432                 <span class="keywordtype">void</span> *tblAddr,
00433                 <a class="code" href="chameleon_8h.html#a133">CHAMELEONV2_HANDLE</a> **chahP);
00434         int32 (*Info)(
00435                 <a class="code" href="chameleon_8h.html#a133">CHAMELEONV2_HANDLE</a> *chah,
00436                 <a class="code" href="structCHAMELEONV2__INFO.html">CHAMELEONV2_INFO</a> *info);    
00437         int32 (*TableIdent)(
00438                 <a class="code" href="chameleon_8h.html#a133">CHAMELEONV2_HANDLE</a> *chah,
00439                 u_int32 idx,
00440                 <a class="code" href="structCHAMELEONV2__TABLE.html">CHAMELEONV2_TABLE</a> *table);  
00441         int32 (*UnitIdent)(
00442                 <a class="code" href="chameleon_8h.html#a133">CHAMELEONV2_HANDLE</a> *chah,
00443                 u_int32 idx,
00444                 <a class="code" href="structCHAMELEONV2__UNIT.html">CHAMELEONV2_UNIT</a> *unit);    
00445         int32 (*BridgeIdent)(
00446                 <a class="code" href="chameleon_8h.html#a133">CHAMELEONV2_HANDLE</a> *chah,
00447                 u_int32 idx,
00448                 <a class="code" href="structCHAMELEONV2__BRIDGE.html">CHAMELEONV2_BRIDGE</a> *bridge);
00449         int32 (*CpuIdent)(
00450                 <a class="code" href="chameleon_8h.html#a133">CHAMELEONV2_HANDLE</a> *chah,
00451                 u_int32 idx,
00452                 <a class="code" href="structCHAMELEONV2__CPU.html">CHAMELEONV2_CPU</a> *cpu);      
00453         int32 (*InstanceFind)(
00454                 <a class="code" href="chameleon_8h.html#a133">CHAMELEONV2_HANDLE</a> *chah,
00455                 int32               idx,
00456                 <a class="code" href="structCHAMELEONV2__FIND.html">CHAMELEONV2_FIND</a>    find,
00457                 <a class="code" href="structCHAMELEONV2__UNIT.html">CHAMELEONV2_UNIT</a>    *unit,
00458                 <a class="code" href="structCHAMELEONV2__BRIDGE.html">CHAMELEONV2_BRIDGE</a>  *bridge,
00459                 <a class="code" href="structCHAMELEONV2__CPU.html">CHAMELEONV2_CPU</a>     *cpu);  
00460         void (*Term)(
00461                 <a class="code" href="chameleon_8h.html#a133">CHAMELEONV2_HANDLE</a> **chahP);
00462 } <a class="code" href="structCHAM__FUNCTBL.html">CHAM_FUNCTBL</a>;
00463 
00464 <span class="comment">/*--------------------------------------+</span>
00465 <span class="comment">|   EXTERNALS                           |</span>
00466 <span class="comment">+--------------------------------------*/</span>
00467 <span class="comment">/* none */</span>
00468 
00469 <span class="comment">/*--------------------------------------+</span>
00470 <span class="comment">|   GLOBALS                             |</span>
00471 <span class="comment">+--------------------------------------*/</span>
00472 <span class="comment">/* none */</span>
00473 
00474 <span class="comment">/*--------------------------------------+</span>
00475 <span class="comment">|   PROTOTYPES                          |</span>
00476 <span class="comment">+--------------------------------------*/</span>
00477 
00478 <span class="preprocessor">#ifndef  CHAM_VARIANT</span>
00479 <span class="preprocessor"></span><span class="preprocessor"># define _CHAM_GLOBNAME(var,name) name</span>
00480 <span class="preprocessor"></span><span class="preprocessor">#else</span>
00481 <span class="preprocessor"></span><span class="preprocessor"># define _CHAM_GLOBNAME(var,name) var##name</span>
00482 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00483 <span class="preprocessor"></span>
00484 <span class="preprocessor">#define CHAM_GLOBNAME(var,name)  _CHAM_GLOBNAME(var,name)</span>
00485 <span class="preprocessor"></span>
00486 <span class="comment">/* Chameleon-V0 functions */</span>
00487 <span class="preprocessor">#ifdef CHAMELEONV2_EXPORT_CHAMELEONV0</span>
00488 <span class="preprocessor"></span><span class="preprocessor">    #define ChameleonInit              CHAM_GLOBNAME(CHAM_VARIANT,          \</span>
00489 <span class="preprocessor">                                                       ChameleonInit)</span>
00490 <span class="preprocessor"></span><span class="preprocessor">    #define ChameleonGlobalIdent       CHAM_GLOBNAME(CHAM_VARIANT,          \</span>
00491 <span class="preprocessor">                                                       ChameleonGlobalIdent)</span>
00492 <span class="preprocessor"></span><span class="preprocessor">    #define ChameleonUnitIdent         CHAM_GLOBNAME(CHAM_VARIANT,          \</span>
00493 <span class="preprocessor">                                                       ChameleonUnitIdent)</span>
00494 <span class="preprocessor"></span><span class="preprocessor">    #define ChameleonUnitFind          CHAM_GLOBNAME(CHAM_VARIANT,          \</span>
00495 <span class="preprocessor">                                                       ChameleonUnitFind)</span>
00496 <span class="preprocessor"></span><span class="preprocessor">    #define ChameleonTerm              CHAM_GLOBNAME(CHAM_VARIANT,          \</span>
00497 <span class="preprocessor">                                                       ChameleonTerm)</span>
00498 <span class="preprocessor"></span>
00499     <span class="keyword">extern</span> int32 ChameleonInit( OSS_HANDLE *, <span class="keywordtype">int</span> pciBus, <span class="keywordtype">int</span> pciDev, CHAMELEON_HANDLE ** );
00500     <span class="keyword">extern</span> int32 ChameleonGlobalIdent( CHAMELEON_HANDLE *, <span class="keywordtype">char</span> *variantP,
00501                                 <span class="keywordtype">int</span> *revisionP );
00502     <span class="keyword">extern</span> int32 ChameleonUnitIdent( CHAMELEON_HANDLE *, <span class="keywordtype">int</span> idx, <a class="code" href="structCHAMELEON__UNIT.html">CHAMELEON_UNIT</a> *);
00503     <span class="keyword">extern</span> int32 ChameleonUnitFind( CHAMELEON_HANDLE *, <span class="keywordtype">int</span> modCode, <span class="keywordtype">int</span> instance,
00504                              <a class="code" href="structCHAMELEON__UNIT.html">CHAMELEON_UNIT</a> *);
00505     <span class="keyword">extern</span> <span class="keywordtype">void</span>  ChameleonTerm( CHAMELEON_HANDLE **);
00506 <span class="preprocessor">#endif </span><span class="comment">/* CHAMELEONV2_EXPORT_CHAMELEONV0 */</span>
00507 
00508 <span class="preprocessor">#define ChameleonLoadEm04          CHAM_GLOBNAME(CHAM_VARIANT,          \</span>
00509 <span class="preprocessor">                                                   ChameleonLoadEm04)</span>
00510 <span class="preprocessor"></span><span class="preprocessor">#define ChameleonLoadEm01          CHAM_GLOBNAME(CHAM_VARIANT,          \</span>
00511 <span class="preprocessor">                                                   ChameleonLoadEm01)</span>
00512 <span class="preprocessor"></span><span class="preprocessor">#define ChameleonLoadEm03          CHAM_GLOBNAME(CHAM_VARIANT,          \</span>
00513 <span class="preprocessor">                                                   ChameleonLoadEm03)</span>
00514 <span class="preprocessor"></span><span class="preprocessor">#define ChameleonFpgaCodeIdentEm04 CHAM_GLOBNAME(CHAM_VARIANT,          \</span>
00515 <span class="preprocessor">                                                   ChameleonFpgaCodeIdentEm04)</span>
00516 <span class="preprocessor"></span><span class="preprocessor">#define ChameleonLoad_A015         CHAM_GLOBNAME(CHAM_VARIANT,          \</span>
00517 <span class="preprocessor">                                                   ChameleonLoad_A015)</span>
00518 <span class="preprocessor"></span>
00519 <span class="comment">/* Chameleon code functions */</span>
00520 <span class="preprocessor">#define ChameleonModName           CHAM_GLOBNAME(CHAM_VARIANT,          \</span>
00521 <span class="preprocessor">                                                   ChameleonModName)</span>
00522 <span class="preprocessor"></span><span class="preprocessor">#define CHAM_DevIdToName           CHAM_GLOBNAME(CHAM_VARIANT,          \</span>
00523 <span class="preprocessor">                                                   CHAM_DevIdToName)</span>
00524 <span class="preprocessor"></span><span class="preprocessor">#define CHAM_ModCodeToDevId        CHAM_GLOBNAME(CHAM_VARIANT,          \</span>
00525 <span class="preprocessor">                                                   CHAM_ModCodeToDevId)</span>
00526 <span class="preprocessor"></span><span class="preprocessor">#define CHAM_DevIdToModCode        CHAM_GLOBNAME(CHAM_VARIANT,          \</span>
00527 <span class="preprocessor">                                                   CHAM_DevIdToModCode)</span>
00528 <span class="preprocessor"></span>
00529 <span class="comment">/* Chameleon-V0 functions */</span>
00530 <span class="keyword">extern</span> int32 ChameleonLoadEm01(OSS_HANDLE *osh, <span class="keyword">const</span> FPGA_HEADER *fpgaCode,
00531                                <span class="keywordtype">void</span> *pldRegBase);
00532 <span class="keyword">extern</span> int32 ChameleonLoadEp01(OSS_HANDLE *osh, <span class="keyword">const</span> FPGA_HEADER *fpgaCode,
00533                                <span class="keywordtype">void</span> *pldRegBase);
00534 <span class="keyword">extern</span> int32 ChameleonLoadEm03(OSS_HANDLE *osh, <span class="keyword">const</span> FPGA_HEADER *fpgaCode,
00535                                <span class="keywordtype">void</span> *pldRegBase );
00536 <span class="keyword">extern</span> int32 ChameleonFpgaCodeIdentEm03(
00537     <span class="keyword">const</span> FPGA_HEADER *fpgaCode,
00538     <span class="keywordtype">int</span> *variantP,
00539     <span class="keywordtype">int</span> *revisionP);
00540 
00541 
00542 <span class="keyword">extern</span> int32 ChameleonLoadEm04(OSS_HANDLE *osh, <span class="keyword">const</span> FPGA_HEADER *fpgaCode);
00543 <span class="keyword">extern</span> int32 ChameleonFpgaCodeIdentEm04(
00544     <span class="keyword">const</span> FPGA_HEADER *fpgaCode,
00545     <span class="keywordtype">int</span> *variantP,
00546     <span class="keywordtype">int</span> *revisionP);
00547 
00548 <span class="keyword">extern</span> int32 ChameleonLoad_A015(
00549     OSS_HANDLE *osh,
00550     <span class="keywordtype">int</span>        icNumber,
00551     <span class="keyword">const</span> FPGA_HEADER *fpgaCode
00552 );
00553 
00554 <span class="comment">/* Chameleon code functions */</span>
00555 <span class="keyword">extern</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *ChameleonModName( u_int16 modCode );
00556 <span class="keyword">extern</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *CHAM_DevIdToName( u_int16 devId );
00557 <span class="keyword">extern</span> u_int16 CHAM_ModCodeToDevId( u_int16 modCode );
00558 <span class="keyword">extern</span> u_int16 CHAM_DevIdToModCode( u_int16 devId );
00559 
00560 int32 ChameleonFpgaHeaderIdent(
00561     <span class="keyword">const</span> <span class="keywordtype">void</span> *_hdr,
00562     u_int32 maxSize,
00563     <a class="code" href="structFPGA__HEADER__INFO.html">FPGA_HEADER_INFO</a> *info);
00564 int32 ChameleonFpgaDataXor( <span class="keyword">const</span> u_int32 *p, u_int32 nBytes, u_int32 *xorP );
00565 int32 ChameleonFpgaDataCheckXor( <a class="code" href="structFPGA__HEADER__INFO.html">FPGA_HEADER_INFO</a> *info);
00566 int32 ChameleonFpgaHeaderOkForBoard(
00567     <span class="keyword">const</span> <a class="code" href="structFPGA__HEADER__INFO.html">FPGA_HEADER_INFO</a> *info,
00568     <span class="keyword">const</span> <span class="keywordtype">char</span> *mainProductName,
00569     <span class="keyword">const</span> <span class="keywordtype">char</span> *carrierName);
00570 
00571 <span class="preprocessor">#ifndef  CHAMV2_VARIANT</span>
00572 <span class="preprocessor"></span><span class="preprocessor"># define _CHAMV2_GLOBNAME(var,name) name</span>
00573 <span class="preprocessor"></span><span class="preprocessor">#else</span>
00574 <span class="preprocessor"></span><span class="preprocessor"># define _CHAMV2_GLOBNAME(var,name) name##var</span>
00575 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00576 <span class="preprocessor"></span>
00577 <span class="preprocessor">#define CHAMV2_GLOBNAME(var,name)  _CHAMV2_GLOBNAME(var,name)</span>
00578 <span class="preprocessor"></span>
00579 <span class="preprocessor">#ifdef CHAMV2_VARIANT</span>
00580 <span class="preprocessor"></span><span class="preprocessor">    #define CHAM_Init              CHAMV2_GLOBNAME(CHAMV2_VARIANT, CHAM_Init)</span>
00581 <span class="preprocessor"></span><span class="preprocessor">#else</span>
00582 <span class="preprocessor"></span><span class="preprocessor">    #define CHAM_Init              CHAM_InitMem</span>
00583 <span class="preprocessor"></span><span class="preprocessor">#endif </span><span class="comment">/* CHAMV2_VARIANT */</span>
00584 
00585 <span class="comment">/* Chameleon-V2 functions */</span>
00586 <span class="keyword">extern</span> int32 CHAM_InitIo( <a class="code" href="structCHAM__FUNCTBL.html">CHAM_FUNCTBL</a> *fP );
00587 <span class="keyword">extern</span> int32 CHAM_InitMem( <a class="code" href="structCHAM__FUNCTBL.html">CHAM_FUNCTBL</a> *fP );
00588 <span class="keyword">extern</span> int32 CHAM_InitIoSw( <a class="code" href="structCHAM__FUNCTBL.html">CHAM_FUNCTBL</a> *fP );
00589 <span class="keyword">extern</span> int32 CHAM_InitMemSw( <a class="code" href="structCHAM__FUNCTBL.html">CHAM_FUNCTBL</a> *fP );
00590 
00591 <span class="preprocessor">#endif </span><span class="comment">/* CHAMELEON_CODES_ONLY */</span>
00592 
00593 <span class="preprocessor">#ifdef __cplusplus</span>
00594 <span class="preprocessor"></span>    }
00595 <span class="preprocessor">#endif</span>
00596 <span class="preprocessor"></span>
00597 <span class="preprocessor">#endif  </span><span class="comment">/* _CHAMELEON_H */</span>
00598 
00599 <span class="preprocessor">#if !defined(_CHAMELEON_H_2ND) &amp;&amp; defined(_CHAMELEON_STRINGS_C)</span>
00600 <span class="preprocessor"></span><span class="preprocessor">#define _CHAMELEON_H_2ND</span>
00601 <span class="preprocessor"></span>
00602 <span class="preprocessor">#ifdef __cplusplus</span>
00603 <span class="preprocessor"></span>    <span class="keyword">extern</span> <span class="stringliteral">"C"</span> {
00604 <span class="preprocessor">#endif </span><span class="comment">/* __cplusplus */</span>
00605 
00606     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">struct </span>{
00607         u_int16     modCode;    <span class="comment">/* V0 module-code */</span>
00608 <span class="preprocessor">#if defined OS9000</span>
00609 <span class="preprocessor"></span>        <span class="keyword">const</span> <span class="keywordtype">char</span> name[20];    <span class="comment">/* unit name */</span>
00610 <span class="preprocessor">#else</span>
00611 <span class="preprocessor"></span>        <span class="keyword">const</span> <span class="keywordtype">char</span> *name;       <span class="comment">/* unit name */</span>
00612 <span class="preprocessor">#endif</span>
00613 <span class="preprocessor"></span>        u_int16     devId;      <span class="comment">/* V2 device Id */</span>
00614     } G_ChamTbl[] = {
00615         { 0x0     , <span class="stringliteral">"not identified"</span>, 0xffff },
00616         { CHAMELEON_16Z001_SMB    ,     <span class="stringliteral">"16Z001_SMB"</span>    ,  1 },
00617         { CHAMELEON_16Z002_VME    ,     <span class="stringliteral">"16Z002_VME"</span>    ,  2 },
00618         { CHAMELEON_16Z016_IDE    ,     <span class="stringliteral">"16Z016_IDE"</span>    , 16 },
00619         { CHAMELEON_16Z022_GPIO   ,     <span class="stringliteral">"16Z022_GPIO"</span>   , 22 },
00620         { CHAMELEON_16Z023_IDE    ,     <span class="stringliteral">"16Z023_IDE"</span>    , 23 },
00621         { CHAMELEON_16Z024_SRAM   ,     <span class="stringliteral">"16Z024_SRAM"</span>   , 24 },
00622         { CHAMELEON_16Z025_UART   ,     <span class="stringliteral">"16Z025_UART"</span>   , 25 },
00623         { CHAMELEON_16Z029_CAN    ,     <span class="stringliteral">"16Z029_CAN"</span>    , 29 },
00624         { CHAMELEON_16Z030_UARTHLP,     <span class="stringliteral">"16Z030_UARTHLP"</span>, 30 },
00625         { CHAMELEON_16Z031_SPI    ,     <span class="stringliteral">"16Z031_SPI"</span>    , 31 },
00626         { CHAMELEON_16Z032_DISP   ,     <span class="stringliteral">"16Z032_DISP"</span>   , 32 },
00627         { CHAMELEON_16Z033_DISP   ,     <span class="stringliteral">"16Z033_DISP"</span>   , 33 },
00628         { CHAMELEON_16Z034_GPIO   ,     <span class="stringliteral">"16Z034_GPIO"</span>   , 34 },
00629         { CHAMELEON_16Z035_SYSTEM ,     <span class="stringliteral">"16Z035_SYSTEM"</span> , 35 },
00630         { 0x0,              <span class="stringliteral">"16Z037_GPIO"</span>   , 37 },
00631         { CHAMELEON_16Z043_SDRAM  ,     <span class="stringliteral">"16Z043_SDRAM"</span>  , 43 },
00632         { CHAMELEON_16Z044_DISP   , <span class="stringliteral">"16Z044_DISP"</span>   , 44 },
00633         { CHAMELEON_16Z045_FLASH  ,     <span class="stringliteral">"16Z045_FLASH"</span>  , 45 },
00634         { CHAMELEON_16Z048_ISA    ,     <span class="stringliteral">"16Z048_ISA"</span>    , 48 },
00635         { CHAMELEON_16Z049_TMR    ,     <span class="stringliteral">"16Z049_TMR"</span>    , 49 },
00636         { CHAMELEON_16Z050_BIO    ,     <span class="stringliteral">"16Z050_BIO"</span>    , 50 },
00637         { CHAMELEON_16Z051_DAC    ,     <span class="stringliteral">"16Z051_DAC"</span>    , 51 },
00638         { CHAMELEON_16Z052_GIRQ   ,     <span class="stringliteral">"16Z052_GIRQ"</span>   , 52 },
00639         { CHAMELEON_16Z053_IDE    ,     <span class="stringliteral">"16Z053_IDETGT"</span> , 53 },
00640         { CHAMELEON_16Z054_SYSTEM ,     <span class="stringliteral">"16Z054_SYSTEM"</span> , 54 },
00641         { CHAMELEON_16Z055_HDLC   ,     <span class="stringliteral">"16Z055_HDLC"</span>   , 55 },
00642         { CHAMELEON_16Z056_SPI    ,     <span class="stringliteral">"16Z056_SPI"</span>    , 56 },
00643         { CHAMELEON_16Z057_UART   ,     <span class="stringliteral">"16Z057_UART"</span>   , 57 },
00644         { CHAMELEON_16Z059_IRQ    ,     <span class="stringliteral">"16Z059_IRQ"</span>    , 59 },
00645         { CHAMELEON_16Z061_PWM    ,     <span class="stringliteral">"16Z061_PWM"</span>    , 61 },
00646         { CHAMELEON_16Z062_DMA    ,     <span class="stringliteral">"16Z062_DMA"</span>    , 62 },
00647         { CHAMELEON_16Z063_NAND_RAW,    <span class="stringliteral">"16Z063_NAND_RAW"</span>,63 },
00648         { CHAMELEON_16Z064_ZOOM   , <span class="stringliteral">"16Z064_ZOOM"</span>   , 64 },
00649         { CHAMELEON_16Z065_WBAV   , <span class="stringliteral">"16Z065_WBAV"</span>   , 65 },
00650         { CHAMELEON_16Z066_MMOD   , <span class="stringliteral">"16Z066_MMOD"</span>   , 66 },
00651         { CHAMELEON_16Z067_VME    , <span class="stringliteral">"16Z065_VME"</span>    , 67 },
00652         { CHAMELEON_16Z068_IDE    , <span class="stringliteral">"16Z068_IDE"</span>    , 68 },
00653         { CHAMELEON_16Z069_RST    , <span class="stringliteral">"16Z069_RST"</span>    , 69 },
00654         { CHAMELEON_16Z072_OWB    , <span class="stringliteral">"16Z072_OWB"</span>    , 72 },
00655         { CHAMELEON_16Z073_QDEC   , <span class="stringliteral">"16Z073_QDEC"</span>   , 73 },
00656         { CHAMELEON_16Z074_REGSPI , <span class="stringliteral">"16Z074_REGSPI"</span> , 74 },
00657         { CHAMELEON_16Z075_SPEED  , <span class="stringliteral">"16Z075_SPEED"</span>  , 75 },
00658         { CHAMELEON_16Z076_QSPI   , <span class="stringliteral">"16Z076_QSPI"</span>   , 76 },
00659         { CHAMELEON_16Z077_ETH    , <span class="stringliteral">"16Z077_ETH"</span>    , 77 },
00660         { 0x0,              <span class="stringliteral">"16Z078_NIOS"</span>   , 78 },
00661         { CHAMELEON_16Z079_ANYBUS , <span class="stringliteral">"16Z079_ANYBUS"</span> , 79 },
00662         { CHAMELEON_16Z080_ARCNET , <span class="stringliteral">"16Z080_ARCNET"</span> , 80 },
00663         { CHAMELEON_16Z081_FIP    , <span class="stringliteral">"16Z081_FIP"</span>    , 81 },
00664         { CHAMELEON_16z082_IMPULSE, <span class="stringliteral">"16Z082_IMPULSE"</span>, 82 },
00665         { CHAMELEON_16Z084_IDEEPROM,    <span class="stringliteral">"16Z084_IDEEPROM"</span>,84 },
00666         { CHAMELEON_16Z085_MS09N  , <span class="stringliteral">"16Z085_MS09N"</span>  , 85 },
00667         { 0x0,              <span class="stringliteral">"16Z086_INTERBUS"</span>,86 },
00668         { CHAMELEON_16Z087_ETH    , <span class="stringliteral">"16Z087_ETH"</span>    , 87 },
00669         { 0x0,              <span class="stringliteral">"16Z088_PG"</span>     , 88 },
00670         { CHAMELEON_16Z089_HSSL   , <span class="stringliteral">"16Z089_HSSL"</span>   , 89 },
00671         { CHAMELEON_16Z090_DPRAM  , <span class="stringliteral">"16Z090_DPRAM"</span>  , 90 },
00672         { 0x0,              <span class="stringliteral">"16Z093_AFDX"</span>   , 93 },
00673         { CHAMELEON_16Z094_WB28XX , <span class="stringliteral">"16Z094_WB28XX"</span> , 94 },
00674         { CHAMELEON_16Z023_IDENHS , <span class="stringliteral">"16Z023_IDENHS"</span> , 123 },
00675         { CHAMELEON_16Z125_UART   , <span class="stringliteral">"16Z125_UART"</span>   , 125 },
00676         { CHAMELEON_16Z126_SERFLASH,    <span class="stringliteral">"16Z126_SERFLASH"</span>, 126 },
00677         { 0x0,              <span class="stringliteral">"16Z127_GPIO"</span>   , 127 },
00678         { CHAMELEON_16Z135_HISPEEDUART, <span class="stringliteral">"16Z135_UART"</span>   , 135 },
00679         { CHAMELEON_16Z147_ARINC717_RX, <span class="stringliteral">"16Z147_AR717_RX"</span>, 147 },
00680         { CHAMELEON_16Z247_ARINC717_TX, <span class="stringliteral">"16Z247_AR717_TX"</span>, 247 },
00681         { CHAMELEON_16Z146_ARINC429_RX, <span class="stringliteral">"16Z146_AR429_RX"</span>, 146 },
00682         { CHAMELEON_16Z246_ARINC429_TX, <span class="stringliteral">"16Z246_AR429_TX"</span>, 246 },
00683         { 0x0,              <span class="stringliteral">"16Z127_GPIO"</span>, 127 },
00684         { CHAMELEON_CUSTOMER_MODULE,<span class="stringliteral">"CUSTOMER_MODULE"</span>,900 },
00685         { CHAMELEON_PCI_INT         ,   <span class="stringliteral">"PCI INT"</span>, 0xffff },
00686         { CHAMELEON_CANGPIO         ,   <span class="stringliteral">"CAN GPIO"</span>, 0xffff },
00687 <span class="preprocessor">#if defined OS9000</span>
00688 <span class="preprocessor"></span>        { 0xffff, <span class="stringliteral">"\0"</span>, 0xffff }    <span class="comment">/* end of table */</span>
00689 <span class="preprocessor">#else</span>
00690 <span class="preprocessor"></span>        { 0xffff, NULL, 0xffff }    <span class="comment">/* end of table */</span>
00691 <span class="preprocessor">#endif</span>
00692 <span class="preprocessor"></span>    };
00693 
00694 <span class="preprocessor">#ifdef __cplusplus</span>
00695 <span class="preprocessor"></span>    }
00696 <span class="preprocessor">#endif </span><span class="comment">/* __cplusplus */</span>
00697 
00698 <span class="preprocessor">#endif </span><span class="comment">/* _CHAMELEON_H_2ND &amp;&amp; _CHAMELEON_STRINGS_C */</span>
00699 
00700 
00701 
00702 
00703 
00704 
00705 
00706 
00707 
00708 
00709 
</pre></div>
	</div>
</div>

<div class="footer">
<!-- Footer -->
	<p class="footer">
	Generated for Chameleon System Unit Driver using <a href="http://www.doxygen.org">doxygen</a>. All Rights Reserved.
	</p>
</div>

</body>
</html>

